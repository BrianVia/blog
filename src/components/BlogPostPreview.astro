---
export interface Props {
  title: string;
  description: string;
  pubDate: string;
  url: string;
  mostRecentPost?: boolean;
  tags?: string[];
}

const {
  title,
  description,
  pubDate,
  url,
  mostRecentPost = false,
  tags = [],
} = Astro.props as Props;

const formattedDate = new Date(pubDate).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<article class="group h-full">
  {mostRecentPost ? (
    <!-- Featured Post - Editorial Header Style -->
    <div class="relative p-8 md:p-12 bg-white dark:bg-white/5 rounded-sm shadow-editorial transition-transform duration-300 hover:-translate-y-1">
      <div class="flex flex-col items-center text-center">
        {tags.length > 0 && (
          <div class="flex gap-3 mb-6">
            {tags.map(tag => (
              <span class="text-xs font-sans font-bold tracking-widest uppercase text-accent">
                {tag}
              </span>
            ))}
          </div>
        )}
        
        <h2 class="text-4xl md:text-5xl font-heading font-bold text-ink mb-6 leading-tight group-hover:text-accent transition-colors">
          <a href={url}>
            <span class="bg-gradient-to-r from-accent to-accent bg-[length:0%_2px] bg-no-repeat bg-left-bottom group-hover:bg-[length:100%_2px] transition-all duration-500">
              {title}
            </span>
          </a>
        </h2>
        
        <p class="text-xl text-ink-light font-serif leading-relaxed max-w-2xl mb-8">
          {description}
        </p>
        
        <div class="flex items-center gap-2 text-sm font-sans font-medium text-ink-lighter uppercase tracking-widest">
          <time>{formattedDate}</time>
          <span>&bull;</span>
          <a href={url} class="text-ink hover:text-accent transition-colors">Read Article</a>
        </div>
      </div>
    </div>
  ) : (
    <!-- Standard Post - Minimal Card -->
    <div class="bg-white dark:bg-white/5 p-8 rounded-sm shadow-editorial hover:shadow-editorial-hover transition-all duration-300 h-full flex flex-col">
      <div class="flex-1">
        {tags.length > 0 && (
          <div class="flex gap-2 mb-4">
            {tags.slice(0, 2).map(tag => (
              <span class="text-[10px] font-sans font-bold tracking-widest uppercase text-accent">
                {tag}
              </span>
            ))}
          </div>
        )}
        
        <h3 class="text-2xl font-heading font-bold text-ink mb-3 leading-tight group-hover:text-accent transition-colors">
          <a href={url}>
            {title}
          </a>
        </h3>
        
        <p class="text-base text-ink-light font-serif leading-relaxed mb-6 line-clamp-3">
          {description}
        </p>
      </div>

      <div class="flex items-center justify-between pt-6 border-t border-ink/5 mt-auto">
        <time class="text-xs font-sans font-medium text-ink-lighter uppercase tracking-widest">
          {formattedDate}
        </time>
        <a href={url} class="text-xs font-sans font-bold text-ink hover:text-accent uppercase tracking-widest transition-colors">
          Read
        </a>
      </div>
    </div>
  )}
</article>
