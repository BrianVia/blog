[["Map",1,2,7,8],"meta::meta",["Map",3,4,5,6],"astro-version","5.0.1","config-digest","b3dc7a9d77c74c75","blog",["Map",9,10,35,36,69,70,95,96,144,145],"009-git-configs-saving-time",{"id":9,"data":11,"body":19,"filePath":20,"digest":21,"rendered":22},{"title":12,"description":13,"pubDate":14,"slug":9,"tags":15,"published":18},"TIL about git configs","Saving me seconds per week!",["Date","2025-06-27T01:14:00.000Z"],[16,17],"git","productivity",true,"Hear ye hear ye people who write `git config` [`user.email`](http://user.email/) `\u003Cyour-email> && git config` [`user.name`](http://user.name/) `\u003Cyour-name>` everytime you spin up or clone a repository. \n\n\nI’m embarrassed to admit I just found out about how easy having a `~/.gitconfig` is and how it’ll save me 4 seconds a few times a week. I legitimately had bash aliases for this…\n\n\n```json\nalias gcud='git config user.name \"Brian Via\" && git config user.email \"\u003Cmy work email>\"'\nalias gcup='git config user.name \"Brian Via\" && git config user.email \"\u003Cmy personal dev email>\"' # good ol' g-cup\n```\n\n\nInsert joke about how long to automate vs how much time it saves. But in the era of AI, this stuff is one prompt and one exit of vim from being your reality in under a minute.\n\n\nCredit to Randall at xkcd.\n\n\n![is_it_worth_the_time_2x.png](https://imgs.xkcd.com/comics/is_it_worth_the_time_2x.png)\n\n\n## My new setup to avoid that\n\n\nHere’s my gitconfig setup below:\n\n\n`~/.gitconfig` :\n\n\n```plain text\n[user]\n    name = Brian Via\n    email = redacted@gmail.com  # default email address for me\n[includeIf \"gitdir:~/Development/Dfinitiv/\"] # my work project subfolder\n    path = ~/.gitconfig-work\n[includeIf \"gitdir:~/Development/Personal/\"] # my personal projects subfolder\n    path = ~/.gitconfig-personal\n```\n\n\n`~/.gitconfig-work` :\n\n\n```plain text\n[user]\n    email = redacted-job-email@acme.corp\n```\n\n\n`~/.gitconfig-personal`:\n\n\n```plain text\n[user]\n    email = redacted@gmail.com\n```\n\n\n11 years into this biz and apparently I’m stupid enough to not know about things like this.\n\n\nI’m also stupid enough to write a blog post about it. Later nerds.\n\n\n### Helpful Diagram I Found\n\n\nWho knew about this stuff?!\n\n\n![Screen-Shot-2023-01-04-at-1.55.47-PM.png](https://www.gitkraken.com/wp-content/uploads/2023/01/Screen-Shot-2023-01-04-at-1.55.47-PM.png)","src/pages/posts/009-git-configs-saving-time.md","de77cbe630e21696",{"html":23,"metadata":24},"\u003Cp>Hear ye hear ye people who write \u003Ccode>git config\u003C/code> \u003Ca href=\"http://user.email/\">\u003Ccode>user.email\u003C/code>\u003C/a> \u003Ccode>&#x3C;your-email> &#x26;&#x26; git config\u003C/code> \u003Ca href=\"http://user.name/\">\u003Ccode>user.name\u003C/code>\u003C/a> \u003Ccode>&#x3C;your-name>\u003C/code> everytime you spin up or clone a repository.\u003C/p>\n\u003Cp>I’m embarrassed to admit I just found out about how easy having a \u003Ccode>~/.gitconfig\u003C/code> is and how it’ll save me 4 seconds a few times a week. I legitimately had bash aliases for this…\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">alias gcud='git config user.name \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Brian Via\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> &#x26;&#x26; git config user.email \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"&#x3C;my work email>\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">alias gcup='git config user.name \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Brian Via\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> &#x26;&#x26; git config user.email \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"&#x3C;my personal dev email>\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">' # good ol' g-cup\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Insert joke about how long to automate vs how much time it saves. But in the era of AI, this stuff is one prompt and one exit of vim from being your reality in under a minute.\u003C/p>\n\u003Cp>Credit to Randall at xkcd.\u003C/p>\n\u003Cp>\u003Cimg src=\"https://imgs.xkcd.com/comics/is_it_worth_the_time_2x.png\" alt=\"is_it_worth_the_time_2x.png\">\u003C/p>\n\u003Ch2 id=\"my-new-setup-to-avoid-that\">My new setup to avoid that\u003C/h2>\n\u003Cp>Here’s my gitconfig setup below:\u003C/p>\n\u003Cp>\u003Ccode>~/.gitconfig\u003C/code> :\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plain\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>[user]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    name = Brian Via\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    email = redacted@gmail.com  # default email address for me\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[includeIf \"gitdir:~/Development/Dfinitiv/\"] # my work project subfolder\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    path = ~/.gitconfig-work\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[includeIf \"gitdir:~/Development/Personal/\"] # my personal projects subfolder\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    path = ~/.gitconfig-personal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ccode>~/.gitconfig-work\u003C/code> :\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plain\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>[user]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    email = redacted-job-email@acme.corp\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ccode>~/.gitconfig-personal\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plain\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>[user]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    email = redacted@gmail.com\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>11 years into this biz and apparently I’m stupid enough to not know about things like this.\u003C/p>\n\u003Cp>I’m also stupid enough to write a blog post about it. Later nerds.\u003C/p>\n\u003Ch3 id=\"helpful-diagram-i-found\">Helpful Diagram I Found\u003C/h3>\n\u003Cp>Who knew about this stuff?!\u003C/p>\n\u003Cp>\u003Cimg src=\"https://www.gitkraken.com/wp-content/uploads/2023/01/Screen-Shot-2023-01-04-at-1.55.47-PM.png\" alt=\"Screen-Shot-2023-01-04-at-1.55.47-PM.png\">\u003C/p>",{"headings":25,"imagePaths":34,"frontmatter":11},[26,30],{"depth":27,"slug":28,"text":29},2,"my-new-setup-to-avoid-that","My new setup to avoid that",{"depth":31,"slug":32,"text":33},3,"helpful-diagram-i-found","Helpful Diagram I Found",[],"008-building-link-feed-for-my-blog",{"id":35,"data":37,"body":43,"filePath":44,"digest":45,"rendered":46},{"title":38,"description":39,"pubDate":40,"slug":35,"tags":41,"published":18},"Building a Link Feed for My Blog with Readwise Reader and Raindrop APIs","Bringing a(n almost) live link feed to my blog",["Date","2025-06-13T02:12:00.000Z"],[42],"Side Projects","Hey all 0 of my readers! I saw the late Aaron Swartz had done this on his blog, so I thought I'd implement a version that pulls my links from Readwise Reader and Raindrop, my two main bookmarking services.\n\n\n**Reference:** [http://www.aaronsw.com/](http://www.aaronsw.com/)\n\n\n## What It Does\n\n\n**TL;DR** - this script grabs links from Readwise Reader and Raindrop. It then combines them into one unified document structure, and writes to a local json file. That JSON file is then copied to an exposed web server, and can be downloaded when I build my blog.\n\n\n## Accessing service APIs\n\n\nI'm using Readwise Reader and Raindrop APIs to access my bookmarks\n\n\n**API Documentation:**\n\n- Readwise API: [https://readwise.io/api_deets](https://readwise.io/api_deets)\n- Raindrop API: [https://developer.raindrop.io/](https://developer.raindrop.io/)\n\n## The Code\n\n\n### Data Structure Examples\n\n\n**Readwise Reader Document:**\n\n\n```json\n{\n  \"id\": \"01jh65n9vnqne5c3zka77b9ygg\",\n  \"url\": \"https://read.readwise.io/read/01jh65n9vnqne5c3zka77b9ygg\",\n  \"title\": \"Scientists uncover how the brain washes itself during sleep\",\n  \"author\": \"ByMitch Leslie\",\n  \"source\": \"Readwise web highlighter\",\n  \"category\": \"article\",\n  \"location\": \"new\",\n  \"tags\": {},\n  \"site_name\": \"Science Advances\",\n  \"word_count\": 812,\n  \"created_at\": \"2025-01-09T18:36:37.257536+00:00\",\n  \"updated_at\": \"2025-01-09T18:36:37.422728+00:00\",\n  \"published_date\": 1736294400000,\n  \"summary\": \"Scientists have discovered that during non-REM sleep, norepinephrine helps blood vessels in the brain contract and push cerebrospinal fluid, which cleanses the brain of waste. A sleep drug called zolpidem may disrupt this cleansing process, indicating potential side effects for users. This research could lead to better sleep aids that support the brain's natural cleaning function.\",\n  \"image_url\": \"https://www.science.org/do/10.1126/science.zye6h6x/abs/_20250110_nid_sleeping_mice.jpg\",\n  \"content\": null,\n  \"source_url\": \"https://www.science.org/content/article/scientists-uncover-how-brain-washes-itself-during-sleep\",\n  \"notes\": \"\",\n  \"parent_id\": null,\n  \"reading_progress\": 0,\n  \"first_opened_at\": \"2025-01-09T18:36:37.109000+00:00\",\n  \"last_opened_at\": \"2025-01-09T18:36:37.109000+00:00\",\n  \"saved_at\": \"2025-01-09T18:36:37.109000+00:00\",\n  \"last_moved_at\": \"2025-01-09T18:36:37.109000+00:00\"\n}\n```\n\n\n**Raindrop Bookmark:**\n\n\n```json\n{\n  \"_id\": 941550705,\n  \"link\": \"https://www.science.org/content/article/scientists-uncover-how-brain-washes-itself-during-sleep\",\n  \"title\": \"Scientists uncover how the brain washes itself during sleep\",\n  \"excerpt\": \"Pulsating blood vessels push fluid into and out of the brains of slumbering mice\",\n  \"note\": \"\",\n  \"type\": \"link\",\n  \"user\": {\n    \"$ref\": \"users\",\n    \"$id\": 815800\n  },\n  \"cover\": \"https://www.science.org/do/10.1126/science.zye6h6x/abs/_20250110_nid_sleeping_mice.jpg\",\n  \"media\": [\n    {\n      \"link\": \"https://www.science.org/do/10.1126/science.zye6h6x/abs/_20250110_nid_sleeping_mice.jpg\",\n      \"type\": \"image\"\n    },\n    {\n      \"link\": \"https://www.science.org/do/10.1126/science.zye6h6x/full/_20250110_nid_sleeping_mice-1736361571250.jpg\",\n      \"type\": \"image\"\n    },\n    {\n      \"link\": \"https://www.science.org/do/10.1126/science.zwmauid/full/_20250107_on_mars_sample_return.jpg\",\n      \"type\": \"image\"\n    }\n  ],\n  \"tags\": [\n    \"sleep\",\n    \"brain\",\n    \"science\",\n    \"research\",\n    \"study\"\n  ],\n  \"important\": false,\n  \"reminder\": {\n    \"date\": null\n  },\n  \"removed\": false,\n  \"created\": \"2025-01-09T18:36:43.898Z\",\n  \"collection\": {\n    \"$ref\": \"collections\",\n    \"$id\": 26156198,\n    \"oid\": 26156198\n  },\n  \"highlights\": [],\n  \"lastUpdate\": \"2025-01-09T18:36:50.275Z\",\n  \"domain\": \"science.org\",\n  \"creatorRef\": {\n    \"_id\": 815800,\n    \"avatar\": \"\",\n    \"name\": \"BrianVia\",\n    \"email\": \"\"\n  },\n  \"sort\": 941550705,\n  \"cache\": {\n    \"status\": \"invalid-origin\"\n  },\n  \"broken\": false,\n  \"collectionId\": 26156198\n}\n```\n\n\n### TypeScript Implementation\n\n\n```typescript\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\nimport { writeFileSync } from \"node:fs\";\n\ndotenv.config();\n\n// Unified interface for links\ninterface UnifiedLink {\n  id: string;\n  title: string;\n  url: string;\n  createdAt: Date;\n  bookmarkSource: \"Raindrop\" | \"ReadwiseReader\";\n  tags?: string[];\n  summary?: string;\n  author?: string;\n  imageUrl?: string;\n  originalUrl?: string;\n}\n\n// Raindrop types and client\ninterface Bookmark {\n  _id: number;\n  title: string;\n  excerpt: string;\n  link: string;\n  domain: string;\n  cover: string;\n  created: string;\n  lastUpdate: string;\n  tags: string[];\n  collectionId: number;\n  type: string;\n}\n\ninterface RaindropResponse {\n  items: Bookmark[];\n  count: number;\n  page: number;\n}\n\nclass RaindropClient {\n  private readonly baseUrl = \"https://api.raindrop.io/rest/v1\";\n  private readonly headers: Record\u003Cstring, string>;\n\n  constructor(token: string) {\n    this.headers = {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\",\n    };\n  }\n\n  async getAllBookmarks(perPage: number = 50): Promise\u003CBookmark[]> {\n    let allBookmarks: Bookmark[] = [];\n    let currentPage = 0;\n    let hasMore = true;\n\n    while (hasMore) {\n      try {\n        const response = await axios.get\u003CRaindropResponse>(`${this.baseUrl}/raindrops/0`, {\n          headers: this.headers,\n          params: {\n            page: currentPage,\n            perpage: perPage,\n            sort: \"-created\",\n          },\n        });\n\n        const { items, count } = response.data;\n        allBookmarks = [...allBookmarks, ...items];\n\n        hasMore = allBookmarks.length \u003C count;\n        currentPage++;\n      } catch (error) {\n        if (axios.isAxiosError(error)) {\n          throw new Error(`Failed to fetch bookmarks: ${error.message}`);\n        }\n        throw error;\n      }\n    }\n\n    return allBookmarks;\n  }\n}\n\n// Readwise Reader types and client\ninterface ReadwiseReaderDocument {\n  image_url: string;\n  id: number;\n  title: string;\n  author: string;\n  saved_at: string;\n  summary: string;\n  url: string;\n}\n\nclass ReadwiseReaderClient {\n  private readonly baseUrl = \"https://readwise.io/api/v3\";\n  private readonly headers: Record\u003Cstring, string>;\n\n  constructor(token: string) {\n    this.headers = {\n      Authorization: `Token ${token}`,\n    };\n  }\n\n  async getAllDocuments(): Promise\u003CReadwiseReaderDocument[]> {\n    let allDocuments: ReadwiseReaderDocument[] = [];\n    let nextPageCursor: string | null = null;\n\n    while (true) {\n      try {\n        const queryParams = new URLSearchParams();\n        if (nextPageCursor) {\n          queryParams.append(\"pageCursor\", nextPageCursor);\n        }\n\n        console.log(\"Querying Readwise Reader for documents\");\n        const response = await axios.get\u003C{\n          results: ReadwiseReaderDocument[];\n          nextPageCursor: string | null;\n        }>(`${this.baseUrl}/list/?${queryParams.toString()}`, {\n          headers: this.headers,\n        });\n\n        allDocuments = [...allDocuments, ...response.data.results];\n        nextPageCursor = response.data.nextPageCursor;\n\n        if (!nextPageCursor) {\n          break;\n        }\n      } catch (error) {\n        if (axios.isAxiosError(error)) {\n          throw new Error(`Failed to fetch Readwise Reader documents: ${error.message}`);\n        }\n        throw error;\n      }\n    }\n\n    return allDocuments;\n  }\n}\n\n// Function to normalize and combine links from both sources\nasync function getAllLinks(): Promise\u003CUnifiedLink[]> {\n  const raindropToken = process.env.RAINDROP_TOKEN;\n  const readwiseToken = process.env.READWISE_TOKEN;\n\n  if (!raindropToken || !readwiseToken) {\n    throw new Error(\"RAINDROP_TOKEN or READWISE_TOKEN environment variable is not set\");\n  }\n\n  const raindropClient = new RaindropClient(raindropToken);\n  const readwiseClient = new ReadwiseReaderClient(readwiseToken);\n\n  const [raindropBookmarks, readwiseDocuments] = await Promise.all([\n    raindropClient.getAllBookmarks(),\n    readwiseClient.getAllDocuments(),\n  ]);\n\n  console.log(`Raindrop Links`);\n  console.log(JSON.stringify(raindropBookmarks[0], null, 2));\n  console.log(`Readwise Links`);\n  console.log(JSON.stringify(readwiseDocuments[0], null, 2));\n\n  const raindropLinks: UnifiedLink[] = raindropBookmarks.map((bookmark) => ({\n    id: bookmark._id.toString(),\n    originalUrl: bookmark.link,\n    summary: bookmark.excerpt,\n    author: bookmark.domain,\n    title: bookmark.title,\n    url: bookmark.link,\n    createdAt: new Date(bookmark.created),\n    bookmarkSource: \"Raindrop\",\n    tags: bookmark.tags,\n    imageUrl: bookmark.cover,\n  }));\n\n  const readwiseLinks: UnifiedLink[] = readwiseDocuments.map((document) => ({\n    id: document.id.toString(),\n    originalUrl: document.url,\n    title: document.title,\n    url: document.url,\n    createdAt: new Date(document.saved_at),\n    bookmarkSource: \"ReadwiseReader\",\n    summary: document.summary,\n    author: document.author.startsWith(\"By\") ? document.author.slice(2) : document.author,\n    imageUrl: document.image_url,\n  }));\n\n  const allLinks = [...readwiseLinks, ...raindropLinks];\n\n// Sort by most recent\n  allLinks.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\n  writeFileSync(\"all-bookmarks.json\", JSON.stringify(allLinks, null, 2));\n\n  return allLinks;\n}\n\n// Example usage\nasync function main() {\n  try {\n    const allLinks = await getAllLinks();\n    console.log(`Found ${allLinks.length} links:\\n`);\n    allLinks.forEach((link) => {\n// Console output logic here\n    });\n  } catch (error) {\n    console.error(\"Error:\", error instanceof Error ? error.message : error);\n  }\n}\n\nmain();\n```\n\n\n### Continuous Deployments\n\n\nI have a cron job running hourly on my server that pulls them and stores them to a local JSON file hosted on a webserver. If the file changes, it does a POST HTTP call to my cloudflare pages webhook, triggering a new deployment.","src/pages/posts/008-building-link-feed-for-my-blog.md","a8b0842c07de4323",{"html":47,"metadata":48},"\u003Cp>Hey all 0 of my readers! I saw the late Aaron Swartz had done this on his blog, so I thought I’d implement a version that pulls my links from Readwise Reader and Raindrop, my two main bookmarking services.\u003C/p>\n\u003Cp>\u003Cstrong>Reference:\u003C/strong> \u003Ca href=\"http://www.aaronsw.com/\">http://www.aaronsw.com/\u003C/a>\u003C/p>\n\u003Ch2 id=\"what-it-does\">What It Does\u003C/h2>\n\u003Cp>\u003Cstrong>TL;DR\u003C/strong> - this script grabs links from Readwise Reader and Raindrop. It then combines them into one unified document structure, and writes to a local json file. That JSON file is then copied to an exposed web server, and can be downloaded when I build my blog.\u003C/p>\n\u003Ch2 id=\"accessing-service-apis\">Accessing service APIs\u003C/h2>\n\u003Cp>I’m using Readwise Reader and Raindrop APIs to access my bookmarks\u003C/p>\n\u003Cp>\u003Cstrong>API Documentation:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>Readwise API: \u003Ca href=\"https://readwise.io/api_deets\">https://readwise.io/api_deets\u003C/a>\u003C/li>\n\u003Cli>Raindrop API: \u003Ca href=\"https://developer.raindrop.io/\">https://developer.raindrop.io/\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"the-code\">The Code\u003C/h2>\n\u003Ch3 id=\"data-structure-examples\">Data Structure Examples\u003C/h3>\n\u003Cp>\u003Cstrong>Readwise Reader Document:\u003C/strong>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"01jh65n9vnqne5c3zka77b9ygg\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"url\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://read.readwise.io/read/01jh65n9vnqne5c3zka77b9ygg\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"title\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Scientists uncover how the brain washes itself during sleep\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"author\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"ByMitch Leslie\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"source\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Readwise web highlighter\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"category\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"article\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"location\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"new\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"tags\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"site_name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Science Advances\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"word_count\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">812\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"created_at\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2025-01-09T18:36:37.257536+00:00\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"updated_at\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2025-01-09T18:36:37.422728+00:00\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"published_date\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1736294400000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"summary\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Scientists have discovered that during non-REM sleep, norepinephrine helps blood vessels in the brain contract and push cerebrospinal fluid, which cleanses the brain of waste. A sleep drug called zolpidem may disrupt this cleansing process, indicating potential side effects for users. This research could lead to better sleep aids that support the brain's natural cleaning function.\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"image_url\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://www.science.org/do/10.1126/science.zye6h6x/abs/_20250110_nid_sleeping_mice.jpg\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"content\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"source_url\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://www.science.org/content/article/scientists-uncover-how-brain-washes-itself-during-sleep\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"notes\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"parent_id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"reading_progress\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"first_opened_at\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2025-01-09T18:36:37.109000+00:00\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"last_opened_at\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2025-01-09T18:36:37.109000+00:00\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"saved_at\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2025-01-09T18:36:37.109000+00:00\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"last_moved_at\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2025-01-09T18:36:37.109000+00:00\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Cstrong>Raindrop Bookmark:\u003C/strong>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"_id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">941550705\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"link\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://www.science.org/content/article/scientists-uncover-how-brain-washes-itself-during-sleep\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"title\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Scientists uncover how the brain washes itself during sleep\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"excerpt\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Pulsating blood vessels push fluid into and out of the brains of slumbering mice\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"note\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"link\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"user\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"$ref\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"users\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"$id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">815800\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"cover\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://www.science.org/do/10.1126/science.zye6h6x/abs/_20250110_nid_sleeping_mice.jpg\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"media\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"link\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://www.science.org/do/10.1126/science.zye6h6x/abs/_20250110_nid_sleeping_mice.jpg\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"image\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"link\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://www.science.org/do/10.1126/science.zye6h6x/full/_20250110_nid_sleeping_mice-1736361571250.jpg\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"image\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"link\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://www.science.org/do/10.1126/science.zwmauid/full/_20250107_on_mars_sample_return.jpg\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"image\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"tags\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">    \"sleep\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">    \"brain\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">    \"science\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">    \"research\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">    \"study\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"important\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"reminder\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"date\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"removed\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"created\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2025-01-09T18:36:43.898Z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"collection\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"$ref\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"collections\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"$id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">26156198\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"oid\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">26156198\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"highlights\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"lastUpdate\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2025-01-09T18:36:50.275Z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"domain\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"science.org\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"creatorRef\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"_id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">815800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"avatar\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"BrianVia\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"email\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"sort\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">941550705\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"cache\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"status\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"invalid-origin\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"broken\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"collectionId\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">26156198\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"typescript-implementation\">TypeScript Implementation\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> axios \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"axios\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> dotenv \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"dotenv\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { writeFileSync } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"node:fs\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">dotenv.\u003C/span>\u003Cspan style=\"color:#B392F0\">config\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Unified interface for links\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnifiedLink\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  id\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  title\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  url\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  createdAt\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Date\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  bookmarkSource\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"Raindrop\"\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"ReadwiseReader\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  tags\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  summary\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  author\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  imageUrl\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  originalUrl\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Raindrop types and client\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> Bookmark\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  _id\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  title\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  excerpt\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  link\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  domain\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  cover\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  created\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  lastUpdate\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  tags\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  collectionId\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  type\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> RaindropResponse\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  items\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Bookmark\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  count\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  page\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">class\u003C/span>\u003Cspan style=\"color:#B392F0\"> RaindropClient\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  private\u003C/span>\u003Cspan style=\"color:#F97583\"> readonly\u003C/span>\u003Cspan style=\"color:#FFAB70\"> baseUrl\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"https://api.raindrop.io/rest/v1\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  private\u003C/span>\u003Cspan style=\"color:#F97583\"> readonly\u003C/span>\u003Cspan style=\"color:#FFAB70\"> headers\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Record\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  constructor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">token\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.headers \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      Authorization: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Bearer ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">token\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">      \"Content-Type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"application/json\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  async\u003C/span>\u003Cspan style=\"color:#B392F0\"> getAllBookmarks\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">perPage\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Promise\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Bookmark\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> allBookmarks\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Bookmark\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> currentPage \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> hasMore \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    while\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (hasMore) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      try\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> response\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> axios.\u003C/span>\u003Cspan style=\"color:#B392F0\">get\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">RaindropResponse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`${\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">baseUrl\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}/raindrops/0`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          headers: \u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.headers,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          params: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            page: currentPage,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            perpage: perPage,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            sort: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-created\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">items\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">count\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> response.data;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        allBookmarks \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">allBookmarks, \u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">items];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        hasMore \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> allBookmarks.\u003C/span>\u003Cspan style=\"color:#79B8FF\">length\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> count;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        currentPage\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      } \u003C/span>\u003Cspan style=\"color:#F97583\">catch\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (error) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (axios.\u003C/span>\u003Cspan style=\"color:#B392F0\">isAxiosError\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(error)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">          throw\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Failed to fetch bookmarks: ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">error\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">message\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        throw\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> error;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> allBookmarks;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Readwise Reader types and client\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> ReadwiseReaderDocument\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  image_url\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  id\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  title\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  author\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  saved_at\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  summary\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  url\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">class\u003C/span>\u003Cspan style=\"color:#B392F0\"> ReadwiseReaderClient\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  private\u003C/span>\u003Cspan style=\"color:#F97583\"> readonly\u003C/span>\u003Cspan style=\"color:#FFAB70\"> baseUrl\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"https://readwise.io/api/v3\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  private\u003C/span>\u003Cspan style=\"color:#F97583\"> readonly\u003C/span>\u003Cspan style=\"color:#FFAB70\"> headers\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Record\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  constructor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">token\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.headers \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      Authorization: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Token ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">token\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  async\u003C/span>\u003Cspan style=\"color:#B392F0\"> getAllDocuments\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Promise\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">ReadwiseReaderDocument\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> allDocuments\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> ReadwiseReaderDocument\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> nextPageCursor\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    while\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      try\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> queryParams\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> URLSearchParams\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (nextPageCursor) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          queryParams.\u003C/span>\u003Cspan style=\"color:#B392F0\">append\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"pageCursor\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, nextPageCursor);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Querying Readwise Reader for documents\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> response\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> axios.\u003C/span>\u003Cspan style=\"color:#B392F0\">get\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">          results\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> ReadwiseReaderDocument\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">          nextPageCursor\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }>(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`${\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">baseUrl\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}/list/?${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">queryParams\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">toString\u003C/span>\u003Cspan style=\"color:#9ECBFF\">()\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          headers: \u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.headers,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        allDocuments \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">allDocuments, \u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">response.data.results];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        nextPageCursor \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> response.data.nextPageCursor;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">nextPageCursor) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">          break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      } \u003C/span>\u003Cspan style=\"color:#F97583\">catch\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (error) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (axios.\u003C/span>\u003Cspan style=\"color:#B392F0\">isAxiosError\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(error)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">          throw\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Failed to fetch Readwise Reader documents: ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">error\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">message\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        throw\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> error;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> allDocuments;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Function to normalize and combine links from both sources\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">async\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> getAllLinks\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Promise\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">UnifiedLink\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> raindropToken\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> process.env.\u003C/span>\u003Cspan style=\"color:#79B8FF\">RAINDROP_TOKEN\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> readwiseToken\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> process.env.\u003C/span>\u003Cspan style=\"color:#79B8FF\">READWISE_TOKEN\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">raindropToken \u003C/span>\u003Cspan style=\"color:#F97583\">||\u003C/span>\u003Cspan style=\"color:#F97583\"> !\u003C/span>\u003Cspan style=\"color:#E1E4E8\">readwiseToken) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    throw\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"RAINDROP_TOKEN or READWISE_TOKEN environment variable is not set\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> raindropClient\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> RaindropClient\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(raindropToken);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> readwiseClient\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ReadwiseReaderClient\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(readwiseToken);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">raindropBookmarks\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">readwiseDocuments\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#79B8FF\"> Promise\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">all\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    raindropClient.\u003C/span>\u003Cspan style=\"color:#B392F0\">getAllBookmarks\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    readwiseClient.\u003C/span>\u003Cspan style=\"color:#B392F0\">getAllDocuments\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  ]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Raindrop Links`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">JSON\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">stringify\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(raindropBookmarks[\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], \u003C/span>\u003Cspan style=\"color:#79B8FF\">null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Readwise Links`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">JSON\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">stringify\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(readwiseDocuments[\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], \u003C/span>\u003Cspan style=\"color:#79B8FF\">null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> raindropLinks\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnifiedLink\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> raindropBookmarks.\u003C/span>\u003Cspan style=\"color:#B392F0\">map\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">bookmark\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    id: bookmark._id.\u003C/span>\u003Cspan style=\"color:#B392F0\">toString\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    originalUrl: bookmark.link,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    summary: bookmark.excerpt,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    author: bookmark.domain,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    title: bookmark.title,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    url: bookmark.link,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    createdAt: \u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Date\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(bookmark.created),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    bookmarkSource: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Raindrop\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tags: bookmark.tags,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    imageUrl: bookmark.cover,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> readwiseLinks\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnifiedLink\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> readwiseDocuments.\u003C/span>\u003Cspan style=\"color:#B392F0\">map\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">document\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    id: document.id.\u003C/span>\u003Cspan style=\"color:#B392F0\">toString\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    originalUrl: document.url,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    title: document.title,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    url: document.url,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    createdAt: \u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Date\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(document.saved_at),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    bookmarkSource: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"ReadwiseReader\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    summary: document.summary,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    author: document.author.\u003C/span>\u003Cspan style=\"color:#B392F0\">startsWith\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"By\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> document.author.\u003C/span>\u003Cspan style=\"color:#B392F0\">slice\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> document.author,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    imageUrl: document.image_url,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> allLinks\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">readwiseLinks, \u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">raindropLinks];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Sort by most recent\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  allLinks.\u003C/span>\u003Cspan style=\"color:#B392F0\">sort\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">b\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b.createdAt.\u003C/span>\u003Cspan style=\"color:#B392F0\">getTime\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a.createdAt.\u003C/span>\u003Cspan style=\"color:#B392F0\">getTime\u003C/span>\u003Cspan style=\"color:#E1E4E8\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  writeFileSync\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"all-bookmarks.json\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">JSON\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">stringify\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(allLinks, \u003C/span>\u003Cspan style=\"color:#79B8FF\">null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> allLinks;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Example usage\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">async\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> main\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  try\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> allLinks\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#B392F0\"> getAllLinks\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Found ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">allLinks\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#79B8FF\">length\u003C/span>\u003Cspan style=\"color:#9ECBFF\">} links:\u003C/span>\u003Cspan style=\"color:#79B8FF\">\\n\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    allLinks.\u003C/span>\u003Cspan style=\"color:#B392F0\">forEach\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">link\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Console output logic here\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">catch\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (error) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Error:\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, error \u003C/span>\u003Cspan style=\"color:#F97583\">instanceof\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> error.message \u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> error);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">main\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"continuous-deployments\">Continuous Deployments\u003C/h3>\n\u003Cp>I have a cron job running hourly on my server that pulls them and stores them to a local JSON file hosted on a webserver. If the file changes, it does a POST HTTP call to my cloudflare pages webhook, triggering a new deployment.\u003C/p>",{"headings":49,"imagePaths":68,"frontmatter":37},[50,53,56,59,62,65],{"depth":27,"slug":51,"text":52},"what-it-does","What It Does",{"depth":27,"slug":54,"text":55},"accessing-service-apis","Accessing service APIs",{"depth":27,"slug":57,"text":58},"the-code","The Code",{"depth":31,"slug":60,"text":61},"data-structure-examples","Data Structure Examples",{"depth":31,"slug":63,"text":64},"typescript-implementation","TypeScript Implementation",{"depth":31,"slug":66,"text":67},"continuous-deployments","Continuous Deployments",[],"001-hello-world",{"id":69,"data":71,"body":77,"filePath":78,"digest":79,"rendered":80},{"title":72,"pubDate":73,"slug":69,"tags":74,"heroImageAlt":72,"heroImageUrl":76,"published":18},"Hello, World",["Date","2022-08-24T16:08:00.000Z"],[75],"Personal Growth","https://www.notion.so/images/page-cover/met_william_morris_1877_willow.jpg","# I’m not really a writer\n\n\n**But maybe I’ll get better at it — CHATGPT**\n\n\nSo honestly, I’m not a big writer. I don’t have coherent, well thought out opinions on all things software just flowing out of my brain at all times. And moreover, having a 1 and a half year old at home, along with plenty of other hobbies, finding time to write often isn’t high on my priority list.\n\n\nMy opinions are mostly recycled and regurgitated from other devs much smarter than me; folks like [Sarah Drasner](https://twitter.com/sarah_edo), Shawn ([@Swyx](https://twitter.com/swyx)) Wang , [Chris Coyier](https://twitter.com/chriscoyier), the list goes on and on.\n\n\n> 🧠 But what I do think in is memes or TV/movie references - often times ones from SpongeBob SquarePants S01-S04. Or sarcasm. Sometimes both.\n\n\nBut behind every joke or meme is a little nugget of truth. Maybe it’s a legitimate grievance with some piece of software or tooling. Maybe it’s a shortcoming of my own that I need to lean into in order to grow. \n\n\nBut regardless, there’s probably something more I could expand on, such as _**why this thing might be painful,**_ or _**I attempted to solve this and here’s what I learned**__,_ or maybe in rare cases, something I feel I have some expertise to share with the world, and I can use this as a vehicle for organizing that information in my head.\n\n\n# Trying to be authentic in today’s content environment \n\n\n![“It’s groundhog day again” joke from Groundhog Day Film. Joking about how frontend devs only ever build blog sites. And here I am building a new blog site 😅](https://prod-files-secure.s3.us-west-2.amazonaws.com/a906313e-59ee-454b-b2b6-e1c8b271da3b/976d9192-6cdd-4045-a5a5-4da1d11f6454/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FC2AKMD%2F20251104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251104T163930Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICx8A7RCBJtJr9uhPEa%2Fj3pkvrTFZsSwbb1DKVHYYmyMAiA9dzhOrt39CkQ2NLin%2F8RccN0HJ378YsezYxApj%2Bn%2Fvyr%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMF1q2dMcRIwFcPclEKtwDf4Jp%2BSSWIk6ebHYCll%2BxNvEp0QwEv3hLCxbsEYG8JDqYfbWOx9atNmUlFq3TtX06TQTV%2B5P9Dk0Z85kSl%2B%2B4dx8ltAUUkylIL26zAz0R%2FLNku4kmQVDot3xE%2F1IbhCxeF8rcHLprQ7q6VnqUWgQ%2FwmaInG9gYrYjnXRbY4c%2FJjoXh2uKwbEQmKP5KZLIcC5nbqviLvbGqLmCrvwSIqRred27Oi3p0cURQz74KfA%2Fpgnv9fFhdQ2W9KUcD1GgHteac0EM16L9T2t98zzqByz9Lj2EnkXOKTdg53%2Bdm9NhM9xhFC%2BUFZXkvqGyF1zz55n%2FRLubeR08ycDncKa59VUrtREuWs0BIKNnYNvQr9Skd7xQkVC8L5JNipX%2BDsYAp%2F83ICdh36o%2FNUDn7S5SWvQRcOHGr89dlP2FMQGggxCyk82ocCDqi2XXftLkYq7rzkVrleMTQknOlIP4Y4qZlHhCLXbo7c%2FP68cfCJNKPgPnQ9s5nlGGFJb6E%2BpZvSmL%2BLuihJ5LHwMHEB1EuFCQKJqWW2Fok6tLGwMj9FB5cc7kEtJ2zWkI%2BTSSFL81vFfmix%2FL%2FOIHQoaxqBRM%2BV05lqRCedBJnkdsSte2MZqqwt%2FvvQp0mq%2FNTCgmvbpBjY4wzNOoyAY6pgG%2BSlT3h3ILjfyjaeis%2FYBq2IydsrdUwA%2Bb1NXOZEaOtMiHVc8HF3OFGYk83643KyOmeFE%2FBkrbfp53bEULyT2u4RTJIjpMdmQ03jWmiUPKtct5UdfxORpea52B164vhCfqrhVZuB%2Ffa1ySWXpqvEVrHSlczCLphiTePk9ZAWsWCfjIAzg%2FHBB3JkskOdSfaRUZMRLVW8QoH8l%2Fe9D1pTvkZi1pAOTG&X-Amz-Signature=dcddfb23f0d565c70ffc268e453d40c1817f67c432407e708482763e4ce5f278&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)\n\n\nAs I said, my brain works in jokes or media references. Constantly. Probably to a fault when I share these in my work slack and people probably just react with a 😐 \n\n\nBut since I don’t want to be following the whole recycled twitter content grift that Is all too prevalent, this feels like the best way to write about topics I can speak to while not just shilling for engagement. \n\n\nSee below for an example:\n\n\n![Recycled twitter content from July that people post just to build engagement](https://prod-files-secure.s3.us-west-2.amazonaws.com/a906313e-59ee-454b-b2b6-e1c8b271da3b/82cdc589-0211-4cc3-95b8-00c093be77c8/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FC2AKMD%2F20251104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251104T163930Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICx8A7RCBJtJr9uhPEa%2Fj3pkvrTFZsSwbb1DKVHYYmyMAiA9dzhOrt39CkQ2NLin%2F8RccN0HJ378YsezYxApj%2Bn%2Fvyr%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMF1q2dMcRIwFcPclEKtwDf4Jp%2BSSWIk6ebHYCll%2BxNvEp0QwEv3hLCxbsEYG8JDqYfbWOx9atNmUlFq3TtX06TQTV%2B5P9Dk0Z85kSl%2B%2B4dx8ltAUUkylIL26zAz0R%2FLNku4kmQVDot3xE%2F1IbhCxeF8rcHLprQ7q6VnqUWgQ%2FwmaInG9gYrYjnXRbY4c%2FJjoXh2uKwbEQmKP5KZLIcC5nbqviLvbGqLmCrvwSIqRred27Oi3p0cURQz74KfA%2Fpgnv9fFhdQ2W9KUcD1GgHteac0EM16L9T2t98zzqByz9Lj2EnkXOKTdg53%2Bdm9NhM9xhFC%2BUFZXkvqGyF1zz55n%2FRLubeR08ycDncKa59VUrtREuWs0BIKNnYNvQr9Skd7xQkVC8L5JNipX%2BDsYAp%2F83ICdh36o%2FNUDn7S5SWvQRcOHGr89dlP2FMQGggxCyk82ocCDqi2XXftLkYq7rzkVrleMTQknOlIP4Y4qZlHhCLXbo7c%2FP68cfCJNKPgPnQ9s5nlGGFJb6E%2BpZvSmL%2BLuihJ5LHwMHEB1EuFCQKJqWW2Fok6tLGwMj9FB5cc7kEtJ2zWkI%2BTSSFL81vFfmix%2FL%2FOIHQoaxqBRM%2BV05lqRCedBJnkdsSte2MZqqwt%2FvvQp0mq%2FNTCgmvbpBjY4wzNOoyAY6pgG%2BSlT3h3ILjfyjaeis%2FYBq2IydsrdUwA%2Bb1NXOZEaOtMiHVc8HF3OFGYk83643KyOmeFE%2FBkrbfp53bEULyT2u4RTJIjpMdmQ03jWmiUPKtct5UdfxORpea52B164vhCfqrhVZuB%2Ffa1ySWXpqvEVrHSlczCLphiTePk9ZAWsWCfjIAzg%2FHBB3JkskOdSfaRUZMRLVW8QoH8l%2Fe9D1pTvkZi1pAOTG&X-Amz-Signature=d8943222e044a52f5bd7889731248cb98c5f1717b80e3ad1374773bd0235e130&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)\n\n\n# Exporting all of my thoughts\n\n\nWith that said, I’m halfway excited as I’ve been writing this to feel like I have some ways to outlet the rumblings of my brain into something more structured. And maybe even build some things I probably wouldn’t have done otherwise. \n\n\nI’d you’ve read this far, cheers and hopefully you enjoy some of the upcoming work! See you in the next one 🍻\n\n\n[https://file.notion.so/f/f/a906313e-59ee-454b-b2b6-e1c8b271da3b/556044f5-f03c-41f1-83c2-2f3e3c379c94/Untitled.png?table=block&id=7bcebc51-1941-4290-8313-1c49e44cc63f&spaceId=a906313e-59ee-454b-b2b6-e1c8b271da3b&expirationTimestamp=1736380800000&signature=1J7CgqtdD6LD9iS02GWvfsCoCsVTA34hcb68jO21Im8&downloadName=Untitled.png](https://file.notion.so/f/f/a906313e-59ee-454b-b2b6-e1c8b271da3b/556044f5-f03c-41f1-83c2-2f3e3c379c94/Untitled.png?table=block&id=7bcebc51-1941-4290-8313-1c49e44cc63f&spaceId=a906313e-59ee-454b-b2b6-e1c8b271da3b&expirationTimestamp=1736380800000&signature=1J7CgqtdD6LD9iS02GWvfsCoCsVTA34hcb68jO21Im8&downloadName=Untitled.png)","src/pages/posts/001-hello-world.md","0229591b9aceb342",{"html":81,"metadata":82},"\u003Ch1 id=\"im-not-really-a-writer\">I’m not really a writer\u003C/h1>\n\u003Cp>\u003Cstrong>But maybe I’ll get better at it — CHATGPT\u003C/strong>\u003C/p>\n\u003Cp>So honestly, I’m not a big writer. I don’t have coherent, well thought out opinions on all things software just flowing out of my brain at all times. And moreover, having a 1 and a half year old at home, along with plenty of other hobbies, finding time to write often isn’t high on my priority list.\u003C/p>\n\u003Cp>My opinions are mostly recycled and regurgitated from other devs much smarter than me; folks like \u003Ca href=\"https://twitter.com/sarah_edo\">Sarah Drasner\u003C/a>, Shawn (\u003Ca href=\"https://twitter.com/swyx\">@Swyx\u003C/a>) Wang , \u003Ca href=\"https://twitter.com/chriscoyier\">Chris Coyier\u003C/a>, the list goes on and on.\u003C/p>\n\u003Cblockquote>\n\u003Cp>🧠 But what I do think in is memes or TV/movie references - often times ones from SpongeBob SquarePants S01-S04. Or sarcasm. Sometimes both.\u003C/p>\n\u003C/blockquote>\n\u003Cp>But behind every joke or meme is a little nugget of truth. Maybe it’s a legitimate grievance with some piece of software or tooling. Maybe it’s a shortcoming of my own that I need to lean into in order to grow.\u003C/p>\n\u003Cp>But regardless, there’s probably something more I could expand on, such as \u003Cem>\u003Cstrong>why this thing might be painful,\u003C/strong>\u003C/em> or \u003Cem>\u003Cstrong>I attempted to solve this and here’s what I learned\u003C/strong>__,\u003C/em> or maybe in rare cases, something I feel I have some expertise to share with the world, and I can use this as a vehicle for organizing that information in my head.\u003C/p>\n\u003Ch1 id=\"trying-to-be-authentic-in-todays-content-environment\">Trying to be authentic in today’s content environment\u003C/h1>\n\u003Cp>\u003Cimg src=\"https://prod-files-secure.s3.us-west-2.amazonaws.com/a906313e-59ee-454b-b2b6-e1c8b271da3b/976d9192-6cdd-4045-a5a5-4da1d11f6454/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&#x26;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&#x26;X-Amz-Credential=ASIAZI2LB4662FC2AKMD%2F20251104%2Fus-west-2%2Fs3%2Faws4_request&#x26;X-Amz-Date=20251104T163930Z&#x26;X-Amz-Expires=3600&#x26;X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICx8A7RCBJtJr9uhPEa%2Fj3pkvrTFZsSwbb1DKVHYYmyMAiA9dzhOrt39CkQ2NLin%2F8RccN0HJ378YsezYxApj%2Bn%2Fvyr%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMF1q2dMcRIwFcPclEKtwDf4Jp%2BSSWIk6ebHYCll%2BxNvEp0QwEv3hLCxbsEYG8JDqYfbWOx9atNmUlFq3TtX06TQTV%2B5P9Dk0Z85kSl%2B%2B4dx8ltAUUkylIL26zAz0R%2FLNku4kmQVDot3xE%2F1IbhCxeF8rcHLprQ7q6VnqUWgQ%2FwmaInG9gYrYjnXRbY4c%2FJjoXh2uKwbEQmKP5KZLIcC5nbqviLvbGqLmCrvwSIqRred27Oi3p0cURQz74KfA%2Fpgnv9fFhdQ2W9KUcD1GgHteac0EM16L9T2t98zzqByz9Lj2EnkXOKTdg53%2Bdm9NhM9xhFC%2BUFZXkvqGyF1zz55n%2FRLubeR08ycDncKa59VUrtREuWs0BIKNnYNvQr9Skd7xQkVC8L5JNipX%2BDsYAp%2F83ICdh36o%2FNUDn7S5SWvQRcOHGr89dlP2FMQGggxCyk82ocCDqi2XXftLkYq7rzkVrleMTQknOlIP4Y4qZlHhCLXbo7c%2FP68cfCJNKPgPnQ9s5nlGGFJb6E%2BpZvSmL%2BLuihJ5LHwMHEB1EuFCQKJqWW2Fok6tLGwMj9FB5cc7kEtJ2zWkI%2BTSSFL81vFfmix%2FL%2FOIHQoaxqBRM%2BV05lqRCedBJnkdsSte2MZqqwt%2FvvQp0mq%2FNTCgmvbpBjY4wzNOoyAY6pgG%2BSlT3h3ILjfyjaeis%2FYBq2IydsrdUwA%2Bb1NXOZEaOtMiHVc8HF3OFGYk83643KyOmeFE%2FBkrbfp53bEULyT2u4RTJIjpMdmQ03jWmiUPKtct5UdfxORpea52B164vhCfqrhVZuB%2Ffa1ySWXpqvEVrHSlczCLphiTePk9ZAWsWCfjIAzg%2FHBB3JkskOdSfaRUZMRLVW8QoH8l%2Fe9D1pTvkZi1pAOTG&#x26;X-Amz-Signature=dcddfb23f0d565c70ffc268e453d40c1817f67c432407e708482763e4ce5f278&#x26;X-Amz-SignedHeaders=host&#x26;x-amz-checksum-mode=ENABLED&#x26;x-id=GetObject\" alt=\"“It’s groundhog day again” joke from Groundhog Day Film. Joking about how frontend devs only ever build blog sites. And here I am building a new blog site 😅\">\u003C/p>\n\u003Cp>As I said, my brain works in jokes or media references. Constantly. Probably to a fault when I share these in my work slack and people probably just react with a 😐 \u003C/p>\n\u003Cp>But since I don’t want to be following the whole recycled twitter content grift that Is all too prevalent, this feels like the best way to write about topics I can speak to while not just shilling for engagement.\u003C/p>\n\u003Cp>See below for an example:\u003C/p>\n\u003Cp>\u003Cimg src=\"https://prod-files-secure.s3.us-west-2.amazonaws.com/a906313e-59ee-454b-b2b6-e1c8b271da3b/82cdc589-0211-4cc3-95b8-00c093be77c8/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&#x26;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&#x26;X-Amz-Credential=ASIAZI2LB4662FC2AKMD%2F20251104%2Fus-west-2%2Fs3%2Faws4_request&#x26;X-Amz-Date=20251104T163930Z&#x26;X-Amz-Expires=3600&#x26;X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICx8A7RCBJtJr9uhPEa%2Fj3pkvrTFZsSwbb1DKVHYYmyMAiA9dzhOrt39CkQ2NLin%2F8RccN0HJ378YsezYxApj%2Bn%2Fvyr%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMF1q2dMcRIwFcPclEKtwDf4Jp%2BSSWIk6ebHYCll%2BxNvEp0QwEv3hLCxbsEYG8JDqYfbWOx9atNmUlFq3TtX06TQTV%2B5P9Dk0Z85kSl%2B%2B4dx8ltAUUkylIL26zAz0R%2FLNku4kmQVDot3xE%2F1IbhCxeF8rcHLprQ7q6VnqUWgQ%2FwmaInG9gYrYjnXRbY4c%2FJjoXh2uKwbEQmKP5KZLIcC5nbqviLvbGqLmCrvwSIqRred27Oi3p0cURQz74KfA%2Fpgnv9fFhdQ2W9KUcD1GgHteac0EM16L9T2t98zzqByz9Lj2EnkXOKTdg53%2Bdm9NhM9xhFC%2BUFZXkvqGyF1zz55n%2FRLubeR08ycDncKa59VUrtREuWs0BIKNnYNvQr9Skd7xQkVC8L5JNipX%2BDsYAp%2F83ICdh36o%2FNUDn7S5SWvQRcOHGr89dlP2FMQGggxCyk82ocCDqi2XXftLkYq7rzkVrleMTQknOlIP4Y4qZlHhCLXbo7c%2FP68cfCJNKPgPnQ9s5nlGGFJb6E%2BpZvSmL%2BLuihJ5LHwMHEB1EuFCQKJqWW2Fok6tLGwMj9FB5cc7kEtJ2zWkI%2BTSSFL81vFfmix%2FL%2FOIHQoaxqBRM%2BV05lqRCedBJnkdsSte2MZqqwt%2FvvQp0mq%2FNTCgmvbpBjY4wzNOoyAY6pgG%2BSlT3h3ILjfyjaeis%2FYBq2IydsrdUwA%2Bb1NXOZEaOtMiHVc8HF3OFGYk83643KyOmeFE%2FBkrbfp53bEULyT2u4RTJIjpMdmQ03jWmiUPKtct5UdfxORpea52B164vhCfqrhVZuB%2Ffa1ySWXpqvEVrHSlczCLphiTePk9ZAWsWCfjIAzg%2FHBB3JkskOdSfaRUZMRLVW8QoH8l%2Fe9D1pTvkZi1pAOTG&#x26;X-Amz-Signature=d8943222e044a52f5bd7889731248cb98c5f1717b80e3ad1374773bd0235e130&#x26;X-Amz-SignedHeaders=host&#x26;x-amz-checksum-mode=ENABLED&#x26;x-id=GetObject\" alt=\"Recycled twitter content from July that people post just to build engagement\">\u003C/p>\n\u003Ch1 id=\"exporting-all-of-my-thoughts\">Exporting all of my thoughts\u003C/h1>\n\u003Cp>With that said, I’m halfway excited as I’ve been writing this to feel like I have some ways to outlet the rumblings of my brain into something more structured. And maybe even build some things I probably wouldn’t have done otherwise.\u003C/p>\n\u003Cp>I’d you’ve read this far, cheers and hopefully you enjoy some of the upcoming work! See you in the next one 🍻\u003C/p>\n\u003Cp>\u003Ca href=\"https://file.notion.so/f/f/a906313e-59ee-454b-b2b6-e1c8b271da3b/556044f5-f03c-41f1-83c2-2f3e3c379c94/Untitled.png?table=block&#x26;id=7bcebc51-1941-4290-8313-1c49e44cc63f&#x26;spaceId=a906313e-59ee-454b-b2b6-e1c8b271da3b&#x26;expirationTimestamp=1736380800000&#x26;signature=1J7CgqtdD6LD9iS02GWvfsCoCsVTA34hcb68jO21Im8&#x26;downloadName=Untitled.png\">https://file.notion.so/f/f/a906313e-59ee-454b-b2b6-e1c8b271da3b/556044f5-f03c-41f1-83c2-2f3e3c379c94/Untitled.png?table=block&#x26;id=7bcebc51-1941-4290-8313-1c49e44cc63f&#x26;spaceId=a906313e-59ee-454b-b2b6-e1c8b271da3b&#x26;expirationTimestamp=1736380800000&#x26;signature=1J7CgqtdD6LD9iS02GWvfsCoCsVTA34hcb68jO21Im8&#x26;downloadName=Untitled.png\u003C/a>\u003C/p>",{"headings":83,"imagePaths":94,"frontmatter":71},[84,88,91],{"depth":85,"slug":86,"text":87},1,"im-not-really-a-writer","I’m not really a writer",{"depth":85,"slug":89,"text":90},"trying-to-be-authentic-in-todays-content-environment","Trying to be authentic in today’s content environment",{"depth":85,"slug":92,"text":93},"exporting-all-of-my-thoughts","Exporting all of my thoughts",[],"003-organizing-ebook-files-with-python",{"id":95,"data":97,"body":103,"filePath":104,"digest":105,"rendered":106},{"title":98,"description":99,"pubDate":100,"slug":95,"tags":101,"published":18},"Organizing ebook files with python","Actually doing a side project to save myself time",["Date","2022-09-27T22:05:00.000Z"],[102],"Python","![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/a906313e-59ee-454b-b2b6-e1c8b271da3b/fd153af3-6076-426c-9845-f33cb30f9644/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WFVN6EQE%2F20251104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251104T163930Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDjrji%2F6zjuVJk9mUP7iSen9HWKAEVlvw4qm%2FNzXxiHnwIgYx30T05pmdeGU0V4ip7L8HH6ksep1f%2F5WyLYC4O6HxAq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDCV1mDqgSVPU2fti%2FCrcAy7JXQYO%2FxyAvbDe%2BVcv3amdyMl7zQSNEE5n3SRphwrUsfdwW3LGIojkDFIJsBDj9BBXbcMWuz6peo%2BZ%2F99KAUSCyn60A6abiIrdIJSCx4Bu72vCGmQjy2HtLxhsgqghYs%2F62cHM1TpsxxttGSF7ENQADH%2FzDNZ49PPifCVpTmfTxSaTKfPmEU5KmLqGOUY6KOxRHoGj8juUf3wOaxwDUkUTkxkpbaWJihqwZrIl3RM1J0izRI%2B4sqSfqcOz1pCu47ZhlN4w14Ig9xDDBOnZAPo7saqr1Q5aa4hVXffhHxbcHQ37%2F2crpjqjs1VHg06maxPBrUHej1dGdr%2B1zFbxcMB2J348KDFNx51RiSfn%2BUQYAMlUnQMWoPlhaYw4VMaIFqjv82h1BBijJgnKkp1lf%2BFoNwlHLSW0MVqSEINMXJ3gpWBx5kKWPbQFKjpYX%2Fn1dccxwKBQnOOak885P0y3RHyn0G8FfxFONtKtDk65MgLeKpIV5ib4fL92jspmRiiWUQ6mSj6hRSIV5PvhL8vK7LzoU8GwixlqH9QIJQXbhNCus%2BLozjo2KcN5u3O%2B9v2I7ay3LPZmJGGeGXXH%2BGb%2FmyxRb8UziFjvvSwXYHwqAqUp6UuA0xQEe1eqeeU7MJ7TqMgGOqUBWObSz2GMTjw7JKUFVQMqDLBlCbSEtTlBDrXFK2MTt%2BCyJ6hiiExgIfX2pEGpSOX7oZsrrPgo965KHAtO7Wsyqup471b9%2FM9mYLy%2FC7z9VhQC19jPlaHLInKrtVLk4wgk5Me37U7%2FEEXKB6hpLnXCF%2Fhbxhv%2FaD01QAt8RMcrqxaCSkPymjLXYrAxosLio0crrS1rrQJnOq2TO769rxlCzRBGdeeq&X-Amz-Signature=a65be11ec99263534a57ac5ba80f1217ca05b246fcb3d8fbef37c5830bd1382d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)\n\n\nIf you want to skip to the code snippets, click [here](/8315b5552806438db336417b0d4b6e7d#0b5105f8ca284a1b88d254284b55ff92)\n\n\nFull python file available [here on GitHub](https://github.com/BrianVia/booksort/blob/main/book-sort.py)\n\n\n# The Problem\n\n\nOver the years, I’ve accumulated many hundreds of ebooks.  Some from buying digital copies from places like Gumroad, others free online like [Software Engineering at Google](https://abseil.io/resources/swe-book/html/toc.html), or a vast majority, torrenting digital copies of ones that sit on my physical bookshelf in my office (don’t sue me? I just want easy access to information!)\n\n\nHowever as I became more and more busy, keeping a clean file structure to allow me to find what I’m looking for became harder and harder.  The result was a hodgepodge of files without naming conventions, directories upon directories labeled “unorganized” as I tried to manually sift through hundreds of files, manually renaming them to the format I wanted, and placed inside of a single directory per book.  It just became too much. \n\n\nThis was basically me when looking for anything:\n\n\n![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/a906313e-59ee-454b-b2b6-e1c8b271da3b/69f5d01f-414f-4e57-ab21-7c161af05628/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WFVN6EQE%2F20251104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251104T163930Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDjrji%2F6zjuVJk9mUP7iSen9HWKAEVlvw4qm%2FNzXxiHnwIgYx30T05pmdeGU0V4ip7L8HH6ksep1f%2F5WyLYC4O6HxAq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDCV1mDqgSVPU2fti%2FCrcAy7JXQYO%2FxyAvbDe%2BVcv3amdyMl7zQSNEE5n3SRphwrUsfdwW3LGIojkDFIJsBDj9BBXbcMWuz6peo%2BZ%2F99KAUSCyn60A6abiIrdIJSCx4Bu72vCGmQjy2HtLxhsgqghYs%2F62cHM1TpsxxttGSF7ENQADH%2FzDNZ49PPifCVpTmfTxSaTKfPmEU5KmLqGOUY6KOxRHoGj8juUf3wOaxwDUkUTkxkpbaWJihqwZrIl3RM1J0izRI%2B4sqSfqcOz1pCu47ZhlN4w14Ig9xDDBOnZAPo7saqr1Q5aa4hVXffhHxbcHQ37%2F2crpjqjs1VHg06maxPBrUHej1dGdr%2B1zFbxcMB2J348KDFNx51RiSfn%2BUQYAMlUnQMWoPlhaYw4VMaIFqjv82h1BBijJgnKkp1lf%2BFoNwlHLSW0MVqSEINMXJ3gpWBx5kKWPbQFKjpYX%2Fn1dccxwKBQnOOak885P0y3RHyn0G8FfxFONtKtDk65MgLeKpIV5ib4fL92jspmRiiWUQ6mSj6hRSIV5PvhL8vK7LzoU8GwixlqH9QIJQXbhNCus%2BLozjo2KcN5u3O%2B9v2I7ay3LPZmJGGeGXXH%2BGb%2FmyxRb8UziFjvvSwXYHwqAqUp6UuA0xQEe1eqeeU7MJ7TqMgGOqUBWObSz2GMTjw7JKUFVQMqDLBlCbSEtTlBDrXFK2MTt%2BCyJ6hiiExgIfX2pEGpSOX7oZsrrPgo965KHAtO7Wsyqup471b9%2FM9mYLy%2FC7z9VhQC19jPlaHLInKrtVLk4wgk5Me37U7%2FEEXKB6hpLnXCF%2Fhbxhv%2FaD01QAt8RMcrqxaCSkPymjLXYrAxosLio0crrS1rrQJnOq2TO769rxlCzRBGdeeq&X-Amz-Signature=db379c872d0035fe538ab3b04306f90ab7e4ba3fd1d50e13b0f2fe53a2b4c2cc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)\n\n\n# What I Wanted the End to Look Like\n\n\n```bash\nBooks Directory/\n  title-author/\n    title-author.epub\n  title2-author2/\n    title2-author.pdf\n```\n\n\nIn wanting to [self host a calibre instance](https://hub.docker.com/r/linuxserver/calibre) with all of my files, ingesting them via 1 directory per book seemed like the best system. It was also incredibly necessary for just reading the files locally from my desktops via my NAS.  \n\n\n# Why Python? 🐍\n\n\nA quick overview of the parts needed to accomplish this.  First and foremost, I decided to go with Python the language of choice for this project for a couple reasons.  \n\n\nWhile it does involve renaming files, which could be easily done with bash, the logic was going to be a little complicated in terms of passing data between functions to-and-fro, which means bash would get a little tough to read IMO. \n\n\nPython also has a rich ecosystem of ebook parsing libraries, and fairly easily handles things like file renaming, extensions, environment variables on Linux machines, which is what my NAS box runs.  And while my first language is typescript/javascript, so I could’ve utilized something like BASH + [Google’s ZX](https://github.com/google/zx), it felt like a good case to try to get some experience with Python, which I’ve never really used.  Luckily VS Code’s intellisense (with some Python plugins), and Python’s relatively simple syntax made it quite easy to get from A→ B in terms of getting the pieces all put together.\n\n\n# The Individual Pieces of The Book Sorting Program\n\n\nThis was how I broke down the individual parts of this sorting library\n\n1. Gather all files from my unorganized directory, ideally recursively\n2. Parse metadata from any ebooks in my library.\n    1. EPUB files\n    2. PDF files\n3. Organize books into their new location (`\u003Cauthor-title>/\u003Cauthor-title>.\u003Cext>`\n4. (Optional) Reading library paths for input, outputs and any issue files\n\n## Gathering All Unorganized Files\n\n\nGrabbing all my files and putting them into one flat directory wasn’t too bad.  I called this my `BOOKSORT_INPUT_PATH` variable.  Currently it’s grabbed from the command line environment, but it could be refactored to take as CLI args, or just hard-coded defaults.\n\n\n```python\n# Returns all files in a directory\ndef getAllFiles(path: string):\n    files = []\n    for r, d, f in os.walk(path): #r - root, d - dir, f - file\n        for file in f:\n            if file.endswith(\".pdf\") or file.endswith(\".epub\"):\n                files.append(os.path.join(r, file))\n    print(files)\n    return files\n```\n\n\nThis chunk is relatively straightforward hopefully.  Given a directory, walk the directory and for each file path found that ends with `.pdf` or `.epub` add it to an array, and then return the array.  This will give us a list of files to lookup the metadata for, and then eventually sort.\n\n\nThe array will look like this:\n\n\n```bash\n['/full/path/to/book/book.epub','/full/path/to/book2/book2.pdf',...]\n```\n\n\nThis array gets returned from the function, so we can iterate over the list of book files to sort.\n\n\n## Parsing Metadata\n\n\nParsing the metadata was relatively straightforward: Find epub and pdf parsing libraries, implement and grab the correct fields. \n\n\nFor epub files we’re using [epub_meta](https://github.com/paulocheque/epub-meta). Make sure you install with `pip install epub_meta` or `pip3 install epub_meta`\n\n\nFor pdf file we’re using [pdfx](https://github.com/metachris/pdfx). This also needs an install with `pip install pdfx` or `pip3 install pdfx`\n\n\nFor all the files in our array, we’re going to pass them to their respective parsing functions like so:\n\n\n```python\nfor file in files:\n        TitleAndAuthorString = \"\"\n        if file.endswith(\".epub\"):\n            TitleAndAuthorString = getEpubTitleAndAuthorPath(file)\n        if file.endswith(\".pdf\"):\n            TitleAndAuthorString = getPdfTitleAndAuthorPath(file)\n```\n\n\n### EPUB Files\n\n\n```python\n# Returns the title and author of an epub file in the format \"Title - Author\"\ndef getEpubTitleAndAuthorPath(filepath: string):\n    try:\n        print(\"INFO: Getting metadata for: \" + filepath)\n        data = epub_meta.get_epub_metadata(filepath)\n        title = data['title'] or \"Unknown\"\n        authors =\", \".join(data['authors']) or \"Unknown\"\n        print(\"INFO: Got metadata for \" + filepath + \": \" + title + \" - \" + authors)\n        return(title + \" - \" + authors)\n    except epub_meta.EPubException as e:\n        print(e)\n        return None\n```\n\n\nEPUB_META allows us to grab the metadata with this line\n\n\n`data = epub_meta.get_epub_metadata(filepath)` \n\n\nand then specific fields like this:\n\n- `title = data['title'] or \"Unknown\"`\n- `authors =\", \".join(data['authors']) or \"Unknown\"` (In this case, we’re doing a `join` with a comma in case there is more than 1 author.\n\nBoth of these will fallback to `Unknown` if we can’t parse the metadata for some reason.\n\n\n### PDF Files\n\n\n```python\ndef getPdfTitleAndAuthorPath(filepath: string):\n    issuesPath = os.environ[\"BOOKSORT_ISSUES_PATH\"]\n    file = filepath\n    try:\n        print(\"INFO: Getting metadata for: \" + filepath)\n        pdf = pdfx.PDFx(filepath)\n        metadata = pdf.get_metadata()\n        title = metadata.get(\"Title\") or \"Unknown\"\n        authors = metadata.get(\"Author\") or \"Unknown\"\n        print(\"INFO: Got metadata for \" + filepath + \": \" + title + \" - \" + authors)\n        return(title + \" - \" + authors)\n    except pdfx.exceptions.PDFInvalidError as e:\n        print(e)\n        print(\"ERROR: Moving \" + getFileName(file) + \" to issues folder\")\n        os.rename(file, issuesPath + \"/\" + getFileName(file))\n        return None\n    except pdfx.exceptions.PDFExtractionError as e:\n        print(e)\n        print(\"ERROR: Moving \" + getFileName(file) + \" to issues folder\")\n        os.rename(file, issuesPath + \"/\" + getFileName(file))\n        return None\n    except pdfx.exceptions.FileNotFoundError as e:\n        print(e)\n        print(\"ERROR: Moving \" + getFileName(file) + \" to issues folder\")\n        os.rename(file, issuesPath + \"/\" + getFileName(file))\n        return None\n```\n\n\nPDFX allows us to read metadata in a similar fashion. \n\n\nAfter creating the pdf and parsing metadata with these two lines\n\n\n```python\npdf = pdfx.PDFx(filepath)\nmetadata = pdf.get_metadata()\n```\n\n\nWe can read from the metadata with the `.get(\u003CfieldName>)` method\n\n\n```python\ntitle = metadata.get(\"Title\") or \"Unknown\"\nauthors = metadata.get(\"Author\") or \"Unknown\" \n# The Authors field is already comma delmited by PDFX, so no need to join here.\n...\nreturn(title + \" - \" + authors)\n```\n\n\nWe’ll also create a function to return the file extension for proper renaming later.\n\n\n```python\n# Returns the file extension of a file\ndef getFileExtension(file):\n    return os.path.splitext(file)[1]\n```\n\n\n## Organizing the Files to their Final Locations\n\n\nLastly, we do some `os.makedirs` and `os.rename` magic to move things around and create the needed directories if it doesn’t already exist.\n\n\n```python\nextension = getFileExtension(file) # grab this so we can rename easily. \n\nif TitleAndAuthorString and \"Unknown\" not in TitleAndAuthorString:\n    if not os.path.exists(outputPath + \"/\" + TitleAndAuthorString):\n        os.makedirs(outputPath + \"/\" + TitleAndAuthorString)\n    print(\"SUCCESS: Moving \" + TitleAndAuthorString)\n    os.rename(file, outputPath + \"/\" + TitleAndAuthorString + \"/\" + TitleAndAuthorString + extension)\n    # My desired file output path is \u003CBooksDir>/\u003CTitle> - \u003CAuthor>/\u003CTitle> - \u003CAuthor>.{pdf,epub,etc}\n# There was an issue parsing the file, let's just move it to an `issues` folder to be manually looked at later\nelse:\n    print(\"WARN: Moving \" + getFileName(file) + \" to issues folder\")\n    os.rename(file, issuesPath + \"/\" + getFileName(file))\n    continue\n```\n\n\n`os.makedirs(...)` creates the directory if needed\n\n\n`os.rename(...)` takes the existing file at the specified path, and then the final (absolute) path for the file.  So in this case it’s `\u003Coutput-directory>/+ \"/\" + TitleAndAuthorString + \"/\" + TitleAndAuthorString + extension`\n\n\n## Putting it All Together\n\n\n```python\ndef main():\n    inputPath = os.environ[\"BOOKSORT_INPUT_PATH\"] or \"/Users/bvia/Development/Personal/booksort/issues\"\n    outputPath = os.environ[\"BOOKSORT_OUTPUT_PATH\"] or \"/Users/bvia/Development/Personal/booksort/outputs\"\n    issuesPath = os.environ[\"BOOKSORT_ISSUES_PATH\"] or \"/Users/bvia/Development/Personal/booksort/issues\"\n    sort_books(inputPath, outputPath, issuesPath)\n```\n\n\nGive it a whirl with a call to `main()` at the end of the file and you’re off.  \n\n\nThis script isn’t perfect, sometimes the rename fails to write to the specified path for reason I can’t figure out, but it’s helped save me many hours of manual organization, and isn’t that one of our favorite parts of programming after all?\n\n\n# Thanks!\n\n\nThanks for reading. Hope this maybe made Python more accessible if you haven’t used it before, or you learned a new use case for it.  Once again the full file is here: [https://github.com/BrianVia/booksort/blob/main/book-sort.py](https://github.com/BrianVia/booksort/blob/main/book-sort.py)\n\n\nIf you want to check out my [self hosted blog for more it’s here](https://brianvia.blog/). \n\n\nYou can follow me on [Twitter](https://twitter.com/Brian_Via) and [GitHub](https://github.com/BrianVia) as well!","src/pages/posts/003-organizing-ebook-files-with-python.md","8502a98ee184202e",{"html":107,"metadata":108},"\u003Cp>\u003Cimg src=\"https://prod-files-secure.s3.us-west-2.amazonaws.com/a906313e-59ee-454b-b2b6-e1c8b271da3b/fd153af3-6076-426c-9845-f33cb30f9644/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&#x26;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&#x26;X-Amz-Credential=ASIAZI2LB466WFVN6EQE%2F20251104%2Fus-west-2%2Fs3%2Faws4_request&#x26;X-Amz-Date=20251104T163930Z&#x26;X-Amz-Expires=3600&#x26;X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDjrji%2F6zjuVJk9mUP7iSen9HWKAEVlvw4qm%2FNzXxiHnwIgYx30T05pmdeGU0V4ip7L8HH6ksep1f%2F5WyLYC4O6HxAq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDCV1mDqgSVPU2fti%2FCrcAy7JXQYO%2FxyAvbDe%2BVcv3amdyMl7zQSNEE5n3SRphwrUsfdwW3LGIojkDFIJsBDj9BBXbcMWuz6peo%2BZ%2F99KAUSCyn60A6abiIrdIJSCx4Bu72vCGmQjy2HtLxhsgqghYs%2F62cHM1TpsxxttGSF7ENQADH%2FzDNZ49PPifCVpTmfTxSaTKfPmEU5KmLqGOUY6KOxRHoGj8juUf3wOaxwDUkUTkxkpbaWJihqwZrIl3RM1J0izRI%2B4sqSfqcOz1pCu47ZhlN4w14Ig9xDDBOnZAPo7saqr1Q5aa4hVXffhHxbcHQ37%2F2crpjqjs1VHg06maxPBrUHej1dGdr%2B1zFbxcMB2J348KDFNx51RiSfn%2BUQYAMlUnQMWoPlhaYw4VMaIFqjv82h1BBijJgnKkp1lf%2BFoNwlHLSW0MVqSEINMXJ3gpWBx5kKWPbQFKjpYX%2Fn1dccxwKBQnOOak885P0y3RHyn0G8FfxFONtKtDk65MgLeKpIV5ib4fL92jspmRiiWUQ6mSj6hRSIV5PvhL8vK7LzoU8GwixlqH9QIJQXbhNCus%2BLozjo2KcN5u3O%2B9v2I7ay3LPZmJGGeGXXH%2BGb%2FmyxRb8UziFjvvSwXYHwqAqUp6UuA0xQEe1eqeeU7MJ7TqMgGOqUBWObSz2GMTjw7JKUFVQMqDLBlCbSEtTlBDrXFK2MTt%2BCyJ6hiiExgIfX2pEGpSOX7oZsrrPgo965KHAtO7Wsyqup471b9%2FM9mYLy%2FC7z9VhQC19jPlaHLInKrtVLk4wgk5Me37U7%2FEEXKB6hpLnXCF%2Fhbxhv%2FaD01QAt8RMcrqxaCSkPymjLXYrAxosLio0crrS1rrQJnOq2TO769rxlCzRBGdeeq&#x26;X-Amz-Signature=a65be11ec99263534a57ac5ba80f1217ca05b246fcb3d8fbef37c5830bd1382d&#x26;X-Amz-SignedHeaders=host&#x26;x-amz-checksum-mode=ENABLED&#x26;x-id=GetObject\" alt=\"Untitled.png\">\u003C/p>\n\u003Cp>If you want to skip to the code snippets, click \u003Ca href=\"/8315b5552806438db336417b0d4b6e7d#0b5105f8ca284a1b88d254284b55ff92\">here\u003C/a>\u003C/p>\n\u003Cp>Full python file available \u003Ca href=\"https://github.com/BrianVia/booksort/blob/main/book-sort.py\">here on GitHub\u003C/a>\u003C/p>\n\u003Ch1 id=\"the-problem\">The Problem\u003C/h1>\n\u003Cp>Over the years, I’ve accumulated many hundreds of ebooks.  Some from buying digital copies from places like Gumroad, others free online like \u003Ca href=\"https://abseil.io/resources/swe-book/html/toc.html\">Software Engineering at Google\u003C/a>, or a vast majority, torrenting digital copies of ones that sit on my physical bookshelf in my office (don’t sue me? I just want easy access to information!)\u003C/p>\n\u003Cp>However as I became more and more busy, keeping a clean file structure to allow me to find what I’m looking for became harder and harder.  The result was a hodgepodge of files without naming conventions, directories upon directories labeled “unorganized” as I tried to manually sift through hundreds of files, manually renaming them to the format I wanted, and placed inside of a single directory per book.  It just became too much.\u003C/p>\n\u003Cp>This was basically me when looking for anything:\u003C/p>\n\u003Cp>\u003Cimg src=\"https://prod-files-secure.s3.us-west-2.amazonaws.com/a906313e-59ee-454b-b2b6-e1c8b271da3b/69f5d01f-414f-4e57-ab21-7c161af05628/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&#x26;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&#x26;X-Amz-Credential=ASIAZI2LB466WFVN6EQE%2F20251104%2Fus-west-2%2Fs3%2Faws4_request&#x26;X-Amz-Date=20251104T163930Z&#x26;X-Amz-Expires=3600&#x26;X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDjrji%2F6zjuVJk9mUP7iSen9HWKAEVlvw4qm%2FNzXxiHnwIgYx30T05pmdeGU0V4ip7L8HH6ksep1f%2F5WyLYC4O6HxAq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDCV1mDqgSVPU2fti%2FCrcAy7JXQYO%2FxyAvbDe%2BVcv3amdyMl7zQSNEE5n3SRphwrUsfdwW3LGIojkDFIJsBDj9BBXbcMWuz6peo%2BZ%2F99KAUSCyn60A6abiIrdIJSCx4Bu72vCGmQjy2HtLxhsgqghYs%2F62cHM1TpsxxttGSF7ENQADH%2FzDNZ49PPifCVpTmfTxSaTKfPmEU5KmLqGOUY6KOxRHoGj8juUf3wOaxwDUkUTkxkpbaWJihqwZrIl3RM1J0izRI%2B4sqSfqcOz1pCu47ZhlN4w14Ig9xDDBOnZAPo7saqr1Q5aa4hVXffhHxbcHQ37%2F2crpjqjs1VHg06maxPBrUHej1dGdr%2B1zFbxcMB2J348KDFNx51RiSfn%2BUQYAMlUnQMWoPlhaYw4VMaIFqjv82h1BBijJgnKkp1lf%2BFoNwlHLSW0MVqSEINMXJ3gpWBx5kKWPbQFKjpYX%2Fn1dccxwKBQnOOak885P0y3RHyn0G8FfxFONtKtDk65MgLeKpIV5ib4fL92jspmRiiWUQ6mSj6hRSIV5PvhL8vK7LzoU8GwixlqH9QIJQXbhNCus%2BLozjo2KcN5u3O%2B9v2I7ay3LPZmJGGeGXXH%2BGb%2FmyxRb8UziFjvvSwXYHwqAqUp6UuA0xQEe1eqeeU7MJ7TqMgGOqUBWObSz2GMTjw7JKUFVQMqDLBlCbSEtTlBDrXFK2MTt%2BCyJ6hiiExgIfX2pEGpSOX7oZsrrPgo965KHAtO7Wsyqup471b9%2FM9mYLy%2FC7z9VhQC19jPlaHLInKrtVLk4wgk5Me37U7%2FEEXKB6hpLnXCF%2Fhbxhv%2FaD01QAt8RMcrqxaCSkPymjLXYrAxosLio0crrS1rrQJnOq2TO769rxlCzRBGdeeq&#x26;X-Amz-Signature=db379c872d0035fe538ab3b04306f90ab7e4ba3fd1d50e13b0f2fe53a2b4c2cc&#x26;X-Amz-SignedHeaders=host&#x26;x-amz-checksum-mode=ENABLED&#x26;x-id=GetObject\" alt=\"Untitled.png\">\u003C/p>\n\u003Ch1 id=\"what-i-wanted-the-end-to-look-like\">What I Wanted the End to Look Like\u003C/h1>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">Books\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Directory/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  title-author/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    title-author.epub\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  title2-author2/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    title2-author.pdf\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>In wanting to \u003Ca href=\"https://hub.docker.com/r/linuxserver/calibre\">self host a calibre instance\u003C/a> with all of my files, ingesting them via 1 directory per book seemed like the best system. It was also incredibly necessary for just reading the files locally from my desktops via my NAS.\u003C/p>\n\u003Ch1 id=\"why-python\">Why Python? 🐍\u003C/h1>\n\u003Cp>A quick overview of the parts needed to accomplish this.  First and foremost, I decided to go with Python the language of choice for this project for a couple reasons.\u003C/p>\n\u003Cp>While it does involve renaming files, which could be easily done with bash, the logic was going to be a little complicated in terms of passing data between functions to-and-fro, which means bash would get a little tough to read IMO.\u003C/p>\n\u003Cp>Python also has a rich ecosystem of ebook parsing libraries, and fairly easily handles things like file renaming, extensions, environment variables on Linux machines, which is what my NAS box runs.  And while my first language is typescript/javascript, so I could’ve utilized something like BASH + \u003Ca href=\"https://github.com/google/zx\">Google’s ZX\u003C/a>, it felt like a good case to try to get some experience with Python, which I’ve never really used.  Luckily VS Code’s intellisense (with some Python plugins), and Python’s relatively simple syntax made it quite easy to get from A→ B in terms of getting the pieces all put together.\u003C/p>\n\u003Ch1 id=\"the-individual-pieces-of-the-book-sorting-program\">The Individual Pieces of The Book Sorting Program\u003C/h1>\n\u003Cp>This was how I broke down the individual parts of this sorting library\u003C/p>\n\u003Col>\n\u003Cli>Gather all files from my unorganized directory, ideally recursively\u003C/li>\n\u003Cli>Parse metadata from any ebooks in my library.\n\u003Col>\n\u003Cli>EPUB files\u003C/li>\n\u003Cli>PDF files\u003C/li>\n\u003C/ol>\n\u003C/li>\n\u003Cli>Organize books into their new location (\u003Ccode>&#x3C;author-title>/&#x3C;author-title>.&#x3C;ext>\u003C/code>\u003C/li>\n\u003Cli>(Optional) Reading library paths for input, outputs and any issue files\u003C/li>\n\u003C/ol>\n\u003Ch2 id=\"gathering-all-unorganized-files\">Gathering All Unorganized Files\u003C/h2>\n\u003Cp>Grabbing all my files and putting them into one flat directory wasn’t too bad.  I called this my \u003Ccode>BOOKSORT_INPUT_PATH\u003C/code> variable.  Currently it’s grabbed from the command line environment, but it could be refactored to take as CLI args, or just hard-coded defaults.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Returns all files in a directory\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">def\u003C/span>\u003Cspan style=\"color:#B392F0\"> getAllFiles\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(path: string):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    files \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> []\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> r, d, f \u003C/span>\u003Cspan style=\"color:#F97583\">in\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> os.walk(path): \u003C/span>\u003Cspan style=\"color:#6A737D\">#r - root, d - dir, f - file\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        for\u003C/span>\u003Cspan style=\"color:#FFAB70\"> file\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> f:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            if\u003C/span>\u003Cspan style=\"color:#FFAB70\"> file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.endswith(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\".pdf\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#FFAB70\"> file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.endswith(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\".epub\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                files.append(os.path.join(r, \u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(files)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> files\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>This chunk is relatively straightforward hopefully.  Given a directory, walk the directory and for each file path found that ends with \u003Ccode>.pdf\u003C/code> or \u003Ccode>.epub\u003C/code> add it to an array, and then return the array.  This will give us a list of files to lookup the metadata for, and then eventually sort.\u003C/p>\n\u003Cp>The array will look like this:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/full/path/to/book/book.epub'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/full/path/to/book2/book2.pdf'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,...]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>This array gets returned from the function, so we can iterate over the list of book files to sort.\u003C/p>\n\u003Ch2 id=\"parsing-metadata\">Parsing Metadata\u003C/h2>\n\u003Cp>Parsing the metadata was relatively straightforward: Find epub and pdf parsing libraries, implement and grab the correct fields.\u003C/p>\n\u003Cp>For epub files we’re using \u003Ca href=\"https://github.com/paulocheque/epub-meta\">epub_meta\u003C/a>. Make sure you install with \u003Ccode>pip install epub_meta\u003C/code> or \u003Ccode>pip3 install epub_meta\u003C/code>\u003C/p>\n\u003Cp>For pdf file we’re using \u003Ca href=\"https://github.com/metachris/pdfx\">pdfx\u003C/a>. This also needs an install with \u003Ccode>pip install pdfx\u003C/code> or \u003Ccode>pip3 install pdfx\u003C/code>\u003C/p>\n\u003Cp>For all the files in our array, we’re going to pass them to their respective parsing functions like so:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">for\u003C/span>\u003Cspan style=\"color:#FFAB70\"> file\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> files:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        TitleAndAuthorString \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#FFAB70\"> file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.endswith(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\".epub\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            TitleAndAuthorString \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getEpubTitleAndAuthorPath(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#FFAB70\"> file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.endswith(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\".pdf\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            TitleAndAuthorString \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getPdfTitleAndAuthorPath(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"epub-files\">EPUB Files\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Returns the title and author of an epub file in the format \"Title - Author\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">def\u003C/span>\u003Cspan style=\"color:#B392F0\"> getEpubTitleAndAuthorPath\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(filepath: string):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    try\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"INFO: Getting metadata for: \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> filepath)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        data \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> epub_meta.get_epub_metadata(filepath)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        title \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data[\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'title'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"Unknown\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        authors \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\", \"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.join(data[\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'authors'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]) \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"Unknown\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"INFO: Got metadata for \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> filepath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \": \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> title \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" - \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> authors)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(title \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" - \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> authors)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    except\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> epub_meta.EPubException \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> e:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(e)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> None\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>EPUB_META allows us to grab the metadata with this line\u003C/p>\n\u003Cp>\u003Ccode>data = epub_meta.get_epub_metadata(filepath)\u003C/code>\u003C/p>\n\u003Cp>and then specific fields like this:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>title = data['title'] or \"Unknown\"\u003C/code>\u003C/li>\n\u003Cli>\u003Ccode>authors =\", \".join(data['authors']) or \"Unknown\"\u003C/code> (In this case, we’re doing a \u003Ccode>join\u003C/code> with a comma in case there is more than 1 author.\u003C/li>\n\u003C/ul>\n\u003Cp>Both of these will fallback to \u003Ccode>Unknown\u003C/code> if we can’t parse the metadata for some reason.\u003C/p>\n\u003Ch3 id=\"pdf-files\">PDF Files\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">def\u003C/span>\u003Cspan style=\"color:#B392F0\"> getPdfTitleAndAuthorPath\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(filepath: string):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    issuesPath \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> os.environ[\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"BOOKSORT_ISSUES_PATH\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">    file\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> filepath\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    try\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"INFO: Getting metadata for: \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> filepath)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        pdf \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> pdfx.PDFx(filepath)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        metadata \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> pdf.get_metadata()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        title \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> metadata.get(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Title\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"Unknown\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        authors \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> metadata.get(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Author\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"Unknown\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"INFO: Got metadata for \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> filepath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \": \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> title \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" - \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> authors)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(title \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" - \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> authors)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    except\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> pdfx.exceptions.PDFInvalidError \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> e:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(e)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"ERROR: Moving \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileName(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" to issues folder\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        os.rename(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, issuesPath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileName(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> None\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    except\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> pdfx.exceptions.PDFExtractionError \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> e:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(e)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"ERROR: Moving \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileName(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" to issues folder\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        os.rename(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, issuesPath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileName(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> None\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    except\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> pdfx.exceptions.FileNotFoundError \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> e:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(e)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"ERROR: Moving \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileName(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" to issues folder\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        os.rename(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, issuesPath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileName(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> None\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>PDFX allows us to read metadata in a similar fashion.\u003C/p>\n\u003Cp>After creating the pdf and parsing metadata with these two lines\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">pdf \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> pdfx.PDFx(filepath)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">metadata \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> pdf.get_metadata()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>We can read from the metadata with the \u003Ccode>.get(&#x3C;fieldName>)\u003C/code> method\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">title \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> metadata.get(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Title\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"Unknown\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">authors \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> metadata.get(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Author\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"Unknown\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># The Authors field is already comma delmited by PDFX, so no need to join here.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(title \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" - \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> authors)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>We’ll also create a function to return the file extension for proper renaming later.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Returns the file extension of a file\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">def\u003C/span>\u003Cspan style=\"color:#B392F0\"> getFileExtension\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(file):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> os.path.splitext(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)[\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"organizing-the-files-to-their-final-locations\">Organizing the Files to their Final Locations\u003C/h2>\n\u003Cp>Lastly, we do some \u003Ccode>os.makedirs\u003C/code> and \u003Ccode>os.rename\u003C/code> magic to move things around and create the needed directories if it doesn’t already exist.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">extension \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileExtension(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#6A737D\"># grab this so we can rename easily. \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> TitleAndAuthorString \u003C/span>\u003Cspan style=\"color:#F97583\">and\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"Unknown\"\u003C/span>\u003Cspan style=\"color:#F97583\"> not\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> TitleAndAuthorString:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#F97583\"> not\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> os.path.exists(outputPath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> TitleAndAuthorString):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        os.makedirs(outputPath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> TitleAndAuthorString)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SUCCESS: Moving \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> TitleAndAuthorString)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    os.rename(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, outputPath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> TitleAndAuthorString \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> TitleAndAuthorString \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> extension)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    # My desired file output path is &#x3C;BooksDir>/&#x3C;Title> - &#x3C;Author>/&#x3C;Title> - &#x3C;Author>.{pdf,epub,etc}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># There was an issue parsing the file, let's just move it to an `issues` folder to be manually looked at later\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"WARN: Moving \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileName(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \" to issues folder\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    os.rename(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, issuesPath \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> getFileName(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    continue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ccode>os.makedirs(...)\u003C/code> creates the directory if needed\u003C/p>\n\u003Cp>\u003Ccode>os.rename(...)\u003C/code> takes the existing file at the specified path, and then the final (absolute) path for the file.  So in this case it’s \u003Ccode>&#x3C;output-directory>/+ \"/\" + TitleAndAuthorString + \"/\" + TitleAndAuthorString + extension\u003C/code>\u003C/p>\n\u003Ch2 id=\"putting-it-all-together\">Putting it All Together\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">def\u003C/span>\u003Cspan style=\"color:#B392F0\"> main\u003C/span>\u003Cspan style=\"color:#E1E4E8\">():\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    inputPath \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> os.environ[\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"BOOKSORT_INPUT_PATH\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/Users/bvia/Development/Personal/booksort/issues\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    outputPath \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> os.environ[\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"BOOKSORT_OUTPUT_PATH\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/Users/bvia/Development/Personal/booksort/outputs\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    issuesPath \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> os.environ[\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"BOOKSORT_ISSUES_PATH\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">or\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"/Users/bvia/Development/Personal/booksort/issues\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    sort_books(inputPath, outputPath, issuesPath)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Give it a whirl with a call to \u003Ccode>main()\u003C/code> at the end of the file and you’re off.\u003C/p>\n\u003Cp>This script isn’t perfect, sometimes the rename fails to write to the specified path for reason I can’t figure out, but it’s helped save me many hours of manual organization, and isn’t that one of our favorite parts of programming after all?\u003C/p>\n\u003Ch1 id=\"thanks\">Thanks!\u003C/h1>\n\u003Cp>Thanks for reading. Hope this maybe made Python more accessible if you haven’t used it before, or you learned a new use case for it.  Once again the full file is here: \u003Ca href=\"https://github.com/BrianVia/booksort/blob/main/book-sort.py\">https://github.com/BrianVia/booksort/blob/main/book-sort.py\u003C/a>\u003C/p>\n\u003Cp>If you want to check out my \u003Ca href=\"https://brianvia.blog/\">self hosted blog for more it’s here\u003C/a>.\u003C/p>\n\u003Cp>You can follow me on \u003Ca href=\"https://twitter.com/Brian_Via\">Twitter\u003C/a> and \u003Ca href=\"https://github.com/BrianVia\">GitHub\u003C/a> as well!\u003C/p>",{"headings":109,"imagePaths":143,"frontmatter":97},[110,113,116,119,122,125,128,131,134,137,140],{"depth":85,"slug":111,"text":112},"the-problem","The Problem",{"depth":85,"slug":114,"text":115},"what-i-wanted-the-end-to-look-like","What I Wanted the End to Look Like",{"depth":85,"slug":117,"text":118},"why-python","Why Python? 🐍",{"depth":85,"slug":120,"text":121},"the-individual-pieces-of-the-book-sorting-program","The Individual Pieces of The Book Sorting Program",{"depth":27,"slug":123,"text":124},"gathering-all-unorganized-files","Gathering All Unorganized Files",{"depth":27,"slug":126,"text":127},"parsing-metadata","Parsing Metadata",{"depth":31,"slug":129,"text":130},"epub-files","EPUB Files",{"depth":31,"slug":132,"text":133},"pdf-files","PDF Files",{"depth":27,"slug":135,"text":136},"organizing-the-files-to-their-final-locations","Organizing the Files to their Final Locations",{"depth":27,"slug":138,"text":139},"putting-it-all-together","Putting it All Together",{"depth":85,"slug":141,"text":142},"thanks","Thanks!",[],"004-local-minimum",{"id":144,"data":146,"body":151,"filePath":152,"digest":153,"rendered":154},{"title":147,"description":148,"pubDate":149,"slug":144,"tags":150,"published":18},"Local Minimum","Layoff, panic, rebounding, and the best job I've ever had.",["Date","2024-06-09T02:18:00.000Z"],[75],"Well, it's been a little while since I've been back here writing, but been wanting to get some of these thoughts just for my own posterity if nothing else.\n\n\nThe original title for this post was \"Rock. Bottom.\", an homage to SpongeBob taking an unexpected bus trip to where else? But I felt that was a little dramatic, despite how it felt at the time.\n\n\n## **A gut punch**\n\n\nAbout ten months ago I was laid off. I've been lucky enough to not have too many terrible days in my life that I can remember, but this one is definitely up there.\n\n\nI remember it like it was yesterday. A Thursday. My son had been born barely a month prior. My mother-in-law had passed not 10 days ago. We had been through a tumultuous spring and summer after my wife was rear-ended during her third trimester. We were driving home from the park after finally feeling like things would settle down.\n\n\nA “Team Sync” had been conditionally put on my calendar for 30 mins from now, with the CEO as the meeting organizer. Since I was on paternity leave, I messaged him saying as such, but I could jump on if urgent. Turns out, it was urgent, but it wouldn’t get that far. A nice woman from Human Resources called to inform me of the news. I'd been laid off.\n\n\nI immediately launched into protest. \"I'm on paternity leave! Is that even legal?!\"\n\n\n\"It's legal so long as it's a mass firing,\" she calmly replied. My heart sank. My wife and kids were in the car with me, listening to their dad lose his job.\n\n\nIt took a day or two for everyone to get an alumni discord together, but it turns out that 75%+ of engineering had been laid off in a shock move to all of us. We'd been told 4 months prior that no further layoffs were planned after a 15% RIF.\n\n\nWe had to go home so that I could go absorb what had just happened. I went from being gainfully employed to seriously worried about paying bills in a literal instant. Sure we could have liquidated investments if needed, so maybe all my stress was ultimately unwarranted, but that's not really a course of action that you want to take.\n\n\nIt's obviously hard to not fixate on anything but what had just happened. I was nearly silent at dinner if memory serves. Bedtime with the kids was a blur. (Parenting generally feels like a blur sometimes, so maybe this isn't earth-shattering) But I eventually went to bed and boy was sleep the most impossible thing to come by for the next week. Considering my newborn was hardly a month old, this probably just compounded how bad everything felt at the time.\n\n\nI toiled in bed, tossing and turning, combing over LinkedIn job postings I might be suited for, mentally re-calculating our runway (long enough to find a job, but not forever with 4 mouths to feed at home).\n\n\nThis was in the midst of a year-long cycle of layoffs in the tech industry, and there was a flood of candidates far more capable for every job that was seemingly out there. It was not going to be easy or pretty.\n\n\nThe next week was surreal. I'd start the day, trying to hang out with my kids and keep to some semblance of routine - make breakfast, play some outside, take the dog for a walk - but inside stress and anxiety loomed large. What would happen if I couldn't get a job? How long could we last? What would I say to my wife? How would I explain to my kids if the worst would happen.\n\n\nSome leads came through in the next few days and into the following week. Nothing hugely promising, but jobs nonetheless. I was preparing for a slog. It was tough out there. Seemed like everywhere that expressed some interest _could_ work out, but when you just want to know that you have A job, having to have the same conversation with recruiters over and over again, explaining what you're good/bad at, why you're on the market, what you're looking for, etc. just becomes exhausting, rather than invigorating as a job search can be when you're in control.\n\n\nDays were spent leet-coding, pretending to my kids that everything was okay, taking the youngest for walking naps, and then back to leet-coding, interview prep, or side project building. Anything and everything to keep sharp or have something to show for myself. Focusing on my own health became a luxury. It's all work all the time when you're job hunting with kids at home. Sleep was terrible. No exercise or time to reflect. Pedal to the metal, because that was the only thing I knew how to do. Work every waking minute that could be spared on getting a job.\n\n\nThey don't tell you how much responsibility comes with being a parent, and maybe specifically a dad when you're the sole income earner, but boy do you feel the weight of it when you don't have a job. All of a sudden you have an all-consuming purpose in life: put food on the table and keep the roof over the heads.\n\n\n**I'm probably being a silly goose**\n\n\nIt's not lost on me that I'm probably sounding all too dramatic in this stupid essay 10 months later, talking about how dire the straits were when I still had 8+ weeks of runway, investments I could fall back on, and plenty of family nearby if worst came to worst. But I don't think I've ever felt a fight or flight like response so strong in my life. The fatherly urge to ensure your clan is taken care of when you're no longer in control is like nothing else I've experienced.\n\n\n## **Just a fool's hope**\n\n\nAfter 4 or 5 business days, a former co-worker connected. His firm was hiring. Despite plenty of initial phone calls with recruiters and hiring managers, nothing had really panned out yet, so having my foot in the door at a place, even if I hadn't heard of them was a relief.\n\n\nThe interview process was expedited, though as it turns out that's just how they roll with everything they do. 4 interviews in 2 days - a senior engineer, a director of software engineering, and chief engineer, followed by an HR phone call as well.\n\n\nTo this day I don't think I nailed any of them. I was fraziled, sleep deprived, and probably having low key panic/anxiety moments at least once a day. But somehow I talked my way through to a final round call with the CEO, I guess convincing people I knew what I was doing. Fake it till you make it am I right? I was fortunate to have the support of the internal referral, and some of his guidance along the way. (If you're reading this, Matt, you single-handedly changed the trajectory of my life and my family's)\n\n\nFor all my melodramatics about how hard this period was, and it was, the interview process with Dfinitiv was so quick and smooth that I really have no place to sit here and ramble and complain. I didn't have to code, I just had to talk and not seem like an idiot.\n\n\nThankfully, they saw something in me. Hardly know what it was at the time, but I'd like to think I've pulled my weight since being brought on.\n\n\n## **Relief**\n\n\nTo my genuine surprise, within 8 days I found myself with an offer in hand. Much sooner than I expected, and again, not really that long that I deserve to write some long ass blog post about how hard it was. But it felt hard. Felt hard as fuck. And scary. I was 31 years old with 2 kids, a wife and a mortgage we'd maybe over-extended ourselves into.\n\n\nI cried when I was on the phone with HR when I got the news. Don't cry much these days, but the weight of the world (my world, at least) had been lifted. I knew we wouldn't be homeless. I knew I wouldn't have to tell my kids we couldn't afford necessities and we wouldn't have to move in with Pop-Pop. I called my parents and brother to tell them the news, still in shock of the miracle/life-line that was thrown my way.\n\n\n## **Reflection**\n\n\nIt was short but stressful, but dammit if I'm ever going to look down on folks who have lost their jobs again. I'd worked hard at my previous gig, just like countless others, but it was out of our control. But it also reinforced some things to me about putting myself in a position to not go through this again.\n\n1. **Be useful.** I'm not the best engineer at this new place, I'm middle of the road at best. Frankly everyone there is a top notch guy or gal, but there's no resting on laurels - from me or anyone.\n\n    Ship shit. Provide value. Build things that move the business. Be irreplacable. Or at least work hard enough that they'd have to really be in a bad spot to get rid of you.\n\n2. **Diversify.** I've never been the kind of guy that ships a profitable side project, but I've started to take the prospect more seriously so that funds don't run dry if stuff doesn't go to plan, and you can always lean into that full time if you needed to. It's hard to do with the workload of a fulltime job with 2 energizer-bunny kids, but a few sleepless nights here and there to ensure you've got cash coming in is probably worth it.\n3. **Network network network** Follows on point 1, but if you work hard and are good at your craft, others will go to bat for you if they can help you. I'm hopeful to not find myself in this position again, but I'm even willing to pay it forward for someone else that's shown they care about their work than I was before.\n4. **Keep an emergency fund, more than you think you need.** Our savings account was far too dry for someone with 2 kids. I'm now trying to keep 4 full months worth of an E-fund, even if it pains me to not have it in the market making money.\n\nI try to steer clear of click-baity listicles, but I've wanted to get these out for some time. I could list 10 more silly things about \"What getting fired taught me about B2B sales\" or some stupid LinkedIn engagement-bait post, but I'll try to keep it to that.\n\n\n## **Dfinitiv**\n\n\nNot a day goes by I don't think about how lucky I am to be where I am. Learning under a pair of co-founders with 3 successful exits (batting 1.000) and a top-notch team of people who care just as much as I do about doing good work. No more lazy contractors. Everyone rowing in the same direction. The floor is just so much higher here. We don't do ceremonies. Just a standup and get going with your work. We're trusted to do our best work and management gets out of our way. Better yet they actively support us.\n\n\nTurns out, when everyone you hire is good, you don't need to micro-manage. You just ideate, get code written, shipped and iterate. That's literally it. WHO KNEW.\n\n\n## **That's all folks?**\n\n\nThanks for listening dear reader. There was no real point to any of this post, except to get some of these thoughts out of my brain and onto paper. Seriously this may be one of my dumbest blog posts ever. But if you happen to come across this and lost your job, hang in there mate. It sucks, but you **will** get through it. And once you're through to the other side, see who else you can throw a rope to. It's a big industry, but it's not that big. A little generousity and hard work goes a long way to helping make sure others are willing to help you when the time comes. You can be prepared on your own, but as a half-decent rock band once said,\n\n> \"I get by with a little help from my friends\"","src/pages/posts/004-local-minimum.md","6f5df18e8a70b0a3",{"html":155,"metadata":156},"\u003Cp>Well, it’s been a little while since I’ve been back here writing, but been wanting to get some of these thoughts just for my own posterity if nothing else.\u003C/p>\n\u003Cp>The original title for this post was “Rock. Bottom.”, an homage to SpongeBob taking an unexpected bus trip to where else? But I felt that was a little dramatic, despite how it felt at the time.\u003C/p>\n\u003Ch2 id=\"a-gut-punch\">\u003Cstrong>A gut punch\u003C/strong>\u003C/h2>\n\u003Cp>About ten months ago I was laid off. I’ve been lucky enough to not have too many terrible days in my life that I can remember, but this one is definitely up there.\u003C/p>\n\u003Cp>I remember it like it was yesterday. A Thursday. My son had been born barely a month prior. My mother-in-law had passed not 10 days ago. We had been through a tumultuous spring and summer after my wife was rear-ended during her third trimester. We were driving home from the park after finally feeling like things would settle down.\u003C/p>\n\u003Cp>A “Team Sync” had been conditionally put on my calendar for 30 mins from now, with the CEO as the meeting organizer. Since I was on paternity leave, I messaged him saying as such, but I could jump on if urgent. Turns out, it was urgent, but it wouldn’t get that far. A nice woman from Human Resources called to inform me of the news. I’d been laid off.\u003C/p>\n\u003Cp>I immediately launched into protest. “I’m on paternity leave! Is that even legal?!”\u003C/p>\n\u003Cp>“It’s legal so long as it’s a mass firing,” she calmly replied. My heart sank. My wife and kids were in the car with me, listening to their dad lose his job.\u003C/p>\n\u003Cp>It took a day or two for everyone to get an alumni discord together, but it turns out that 75%+ of engineering had been laid off in a shock move to all of us. We’d been told 4 months prior that no further layoffs were planned after a 15% RIF.\u003C/p>\n\u003Cp>We had to go home so that I could go absorb what had just happened. I went from being gainfully employed to seriously worried about paying bills in a literal instant. Sure we could have liquidated investments if needed, so maybe all my stress was ultimately unwarranted, but that’s not really a course of action that you want to take.\u003C/p>\n\u003Cp>It’s obviously hard to not fixate on anything but what had just happened. I was nearly silent at dinner if memory serves. Bedtime with the kids was a blur. (Parenting generally feels like a blur sometimes, so maybe this isn’t earth-shattering) But I eventually went to bed and boy was sleep the most impossible thing to come by for the next week. Considering my newborn was hardly a month old, this probably just compounded how bad everything felt at the time.\u003C/p>\n\u003Cp>I toiled in bed, tossing and turning, combing over LinkedIn job postings I might be suited for, mentally re-calculating our runway (long enough to find a job, but not forever with 4 mouths to feed at home).\u003C/p>\n\u003Cp>This was in the midst of a year-long cycle of layoffs in the tech industry, and there was a flood of candidates far more capable for every job that was seemingly out there. It was not going to be easy or pretty.\u003C/p>\n\u003Cp>The next week was surreal. I’d start the day, trying to hang out with my kids and keep to some semblance of routine - make breakfast, play some outside, take the dog for a walk - but inside stress and anxiety loomed large. What would happen if I couldn’t get a job? How long could we last? What would I say to my wife? How would I explain to my kids if the worst would happen.\u003C/p>\n\u003Cp>Some leads came through in the next few days and into the following week. Nothing hugely promising, but jobs nonetheless. I was preparing for a slog. It was tough out there. Seemed like everywhere that expressed some interest \u003Cem>could\u003C/em> work out, but when you just want to know that you have A job, having to have the same conversation with recruiters over and over again, explaining what you’re good/bad at, why you’re on the market, what you’re looking for, etc. just becomes exhausting, rather than invigorating as a job search can be when you’re in control.\u003C/p>\n\u003Cp>Days were spent leet-coding, pretending to my kids that everything was okay, taking the youngest for walking naps, and then back to leet-coding, interview prep, or side project building. Anything and everything to keep sharp or have something to show for myself. Focusing on my own health became a luxury. It’s all work all the time when you’re job hunting with kids at home. Sleep was terrible. No exercise or time to reflect. Pedal to the metal, because that was the only thing I knew how to do. Work every waking minute that could be spared on getting a job.\u003C/p>\n\u003Cp>They don’t tell you how much responsibility comes with being a parent, and maybe specifically a dad when you’re the sole income earner, but boy do you feel the weight of it when you don’t have a job. All of a sudden you have an all-consuming purpose in life: put food on the table and keep the roof over the heads.\u003C/p>\n\u003Cp>\u003Cstrong>I’m probably being a silly goose\u003C/strong>\u003C/p>\n\u003Cp>It’s not lost on me that I’m probably sounding all too dramatic in this stupid essay 10 months later, talking about how dire the straits were when I still had 8+ weeks of runway, investments I could fall back on, and plenty of family nearby if worst came to worst. But I don’t think I’ve ever felt a fight or flight like response so strong in my life. The fatherly urge to ensure your clan is taken care of when you’re no longer in control is like nothing else I’ve experienced.\u003C/p>\n\u003Ch2 id=\"just-a-fools-hope\">\u003Cstrong>Just a fool’s hope\u003C/strong>\u003C/h2>\n\u003Cp>After 4 or 5 business days, a former co-worker connected. His firm was hiring. Despite plenty of initial phone calls with recruiters and hiring managers, nothing had really panned out yet, so having my foot in the door at a place, even if I hadn’t heard of them was a relief.\u003C/p>\n\u003Cp>The interview process was expedited, though as it turns out that’s just how they roll with everything they do. 4 interviews in 2 days - a senior engineer, a director of software engineering, and chief engineer, followed by an HR phone call as well.\u003C/p>\n\u003Cp>To this day I don’t think I nailed any of them. I was fraziled, sleep deprived, and probably having low key panic/anxiety moments at least once a day. But somehow I talked my way through to a final round call with the CEO, I guess convincing people I knew what I was doing. Fake it till you make it am I right? I was fortunate to have the support of the internal referral, and some of his guidance along the way. (If you’re reading this, Matt, you single-handedly changed the trajectory of my life and my family’s)\u003C/p>\n\u003Cp>For all my melodramatics about how hard this period was, and it was, the interview process with Dfinitiv was so quick and smooth that I really have no place to sit here and ramble and complain. I didn’t have to code, I just had to talk and not seem like an idiot.\u003C/p>\n\u003Cp>Thankfully, they saw something in me. Hardly know what it was at the time, but I’d like to think I’ve pulled my weight since being brought on.\u003C/p>\n\u003Ch2 id=\"relief\">\u003Cstrong>Relief\u003C/strong>\u003C/h2>\n\u003Cp>To my genuine surprise, within 8 days I found myself with an offer in hand. Much sooner than I expected, and again, not really that long that I deserve to write some long ass blog post about how hard it was. But it felt hard. Felt hard as fuck. And scary. I was 31 years old with 2 kids, a wife and a mortgage we’d maybe over-extended ourselves into.\u003C/p>\n\u003Cp>I cried when I was on the phone with HR when I got the news. Don’t cry much these days, but the weight of the world (my world, at least) had been lifted. I knew we wouldn’t be homeless. I knew I wouldn’t have to tell my kids we couldn’t afford necessities and we wouldn’t have to move in with Pop-Pop. I called my parents and brother to tell them the news, still in shock of the miracle/life-line that was thrown my way.\u003C/p>\n\u003Ch2 id=\"reflection\">\u003Cstrong>Reflection\u003C/strong>\u003C/h2>\n\u003Cp>It was short but stressful, but dammit if I’m ever going to look down on folks who have lost their jobs again. I’d worked hard at my previous gig, just like countless others, but it was out of our control. But it also reinforced some things to me about putting myself in a position to not go through this again.\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Be useful.\u003C/strong> I’m not the best engineer at this new place, I’m middle of the road at best. Frankly everyone there is a top notch guy or gal, but there’s no resting on laurels - from me or anyone.\u003C/p>\n\u003Cp>Ship shit. Provide value. Build things that move the business. Be irreplacable. Or at least work hard enough that they’d have to really be in a bad spot to get rid of you.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Diversify.\u003C/strong> I’ve never been the kind of guy that ships a profitable side project, but I’ve started to take the prospect more seriously so that funds don’t run dry if stuff doesn’t go to plan, and you can always lean into that full time if you needed to. It’s hard to do with the workload of a fulltime job with 2 energizer-bunny kids, but a few sleepless nights here and there to ensure you’ve got cash coming in is probably worth it.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Network network network\u003C/strong> Follows on point 1, but if you work hard and are good at your craft, others will go to bat for you if they can help you. I’m hopeful to not find myself in this position again, but I’m even willing to pay it forward for someone else that’s shown they care about their work than I was before.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Keep an emergency fund, more than you think you need.\u003C/strong> Our savings account was far too dry for someone with 2 kids. I’m now trying to keep 4 full months worth of an E-fund, even if it pains me to not have it in the market making money.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cp>I try to steer clear of click-baity listicles, but I’ve wanted to get these out for some time. I could list 10 more silly things about “What getting fired taught me about B2B sales” or some stupid LinkedIn engagement-bait post, but I’ll try to keep it to that.\u003C/p>\n\u003Ch2 id=\"dfinitiv\">\u003Cstrong>Dfinitiv\u003C/strong>\u003C/h2>\n\u003Cp>Not a day goes by I don’t think about how lucky I am to be where I am. Learning under a pair of co-founders with 3 successful exits (batting 1.000) and a top-notch team of people who care just as much as I do about doing good work. No more lazy contractors. Everyone rowing in the same direction. The floor is just so much higher here. We don’t do ceremonies. Just a standup and get going with your work. We’re trusted to do our best work and management gets out of our way. Better yet they actively support us.\u003C/p>\n\u003Cp>Turns out, when everyone you hire is good, you don’t need to micro-manage. You just ideate, get code written, shipped and iterate. That’s literally it. WHO KNEW.\u003C/p>\n\u003Ch2 id=\"thats-all-folks\">\u003Cstrong>That’s all folks?\u003C/strong>\u003C/h2>\n\u003Cp>Thanks for listening dear reader. There was no real point to any of this post, except to get some of these thoughts out of my brain and onto paper. Seriously this may be one of my dumbest blog posts ever. But if you happen to come across this and lost your job, hang in there mate. It sucks, but you \u003Cstrong>will\u003C/strong> get through it. And once you’re through to the other side, see who else you can throw a rope to. It’s a big industry, but it’s not that big. A little generousity and hard work goes a long way to helping make sure others are willing to help you when the time comes. You can be prepared on your own, but as a half-decent rock band once said,\u003C/p>\n\u003Cblockquote>\n\u003Cp>“I get by with a little help from my friends”\u003C/p>\n\u003C/blockquote>",{"headings":157,"imagePaths":176,"frontmatter":146},[158,161,164,167,170,173],{"depth":27,"slug":159,"text":160},"a-gut-punch","A gut punch",{"depth":27,"slug":162,"text":163},"just-a-fools-hope","Just a fool’s hope",{"depth":27,"slug":165,"text":166},"relief","Relief",{"depth":27,"slug":168,"text":169},"reflection","Reflection",{"depth":27,"slug":171,"text":172},"dfinitiv","Dfinitiv",{"depth":27,"slug":174,"text":175},"thats-all-folks","That’s all folks?",[]]